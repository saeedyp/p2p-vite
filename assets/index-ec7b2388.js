(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function Gn(e,t){const r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const ie={},At=[],He=()=>{},La=()=>!1,wa=/^on[^a-z]/,Hr=e=>wa.test(e),Hn=e=>e.startsWith("onUpdate:"),ue=Object.assign,Kn=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},$a=Object.prototype.hasOwnProperty,W=(e,t)=>$a.call(e,t),z=Array.isArray,tr=e=>Kr(e)==="[object Map]",Na=e=>Kr(e)==="[object Set]",H=e=>typeof e=="function",me=e=>typeof e=="string",Vn=e=>typeof e=="symbol",ce=e=>e!==null&&typeof e=="object",Go=e=>ce(e)&&H(e.then)&&H(e.catch),Ua=Object.prototype.toString,Kr=e=>Ua.call(e),za=e=>Kr(e).slice(8,-1),Ga=e=>Kr(e)==="[object Object]",Jn=e=>me(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Rr=Gn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vr=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Ha=/-(\w)/g,Ze=Vr(e=>e.replace(Ha,(t,r)=>r?r.toUpperCase():"")),Ka=/\B([A-Z])/g,Ut=Vr(e=>e.replace(Ka,"-$1").toLowerCase()),Jr=Vr(e=>e.charAt(0).toUpperCase()+e.slice(1)),on=Vr(e=>e?`on${Jr(e)}`:""),ar=(e,t)=>!Object.is(e,t),xr=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Fr=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},gn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Si;const vn=()=>Si||(Si=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wn(e){if(z(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=me(n)?qa(n):Wn(n);if(i)for(const o in i)t[o]=i[o]}return t}else{if(me(e))return e;if(ce(e))return e}}const Va=/;(?![^(]*\))/g,Ja=/:([^]+)/,Wa=/\/\*[^]*?\*\//g;function qa(e){const t={};return e.replace(Wa,"").split(Va).forEach(r=>{if(r){const n=r.split(Ja);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function qn(e){let t="";if(me(e))t=e;else if(z(e))for(let r=0;r<e.length;r++){const n=qn(e[r]);n&&(t+=n+" ")}else if(ce(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Ya="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qa=Gn(Ya);function Ho(e){return!!e||e===""}let $e;class Ko{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=$e,!t&&$e&&(this.index=($e.scopes||($e.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=$e;try{return $e=this,t()}finally{$e=r}}}on(){$e=this}off(){$e=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Xa(e){return new Ko(e)}function Za(e,t=$e){t&&t.active&&t.effects.push(e)}function ec(){return $e}const Yn=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Vo=e=>(e.w&yt)>0,Jo=e=>(e.n&yt)>0,tc=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=yt},rc=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const i=t[n];Vo(i)&&!Jo(i)?i.delete(e):t[r++]=i,i.w&=~yt,i.n&=~yt}t.length=r}},yn=new WeakMap;let Yt=0,yt=1;const _n=30;let Ne;const Rt=Symbol(""),bn=Symbol("");class Qn{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Za(this,n)}run(){if(!this.active)return this.fn();let t=Ne,r=mt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ne,Ne=this,mt=!0,yt=1<<++Yt,Yt<=_n?tc(this):Ti(this),this.fn()}finally{Yt<=_n&&rc(this),yt=1<<--Yt,Ne=this.parent,mt=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ne===this?this.deferStop=!0:this.active&&(Ti(this),this.onStop&&this.onStop(),this.active=!1)}}function Ti(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let mt=!0;const Wo=[];function zt(){Wo.push(mt),mt=!1}function Gt(){const e=Wo.pop();mt=e===void 0?!0:e}function Oe(e,t,r){if(mt&&Ne){let n=yn.get(e);n||yn.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=Yn()),qo(i)}}function qo(e,t){let r=!1;Yt<=_n?Jo(e)||(e.n|=yt,r=!Vo(e)):r=!e.has(Ne),r&&(e.add(Ne),Ne.deps.push(e))}function ct(e,t,r,n,i,o){const a=yn.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(r==="length"&&z(e)){const s=Number(n);a.forEach((c,f)=>{(f==="length"||f>=s)&&l.push(c)})}else switch(r!==void 0&&l.push(a.get(r)),t){case"add":z(e)?Jn(r)&&l.push(a.get("length")):(l.push(a.get(Rt)),tr(e)&&l.push(a.get(bn)));break;case"delete":z(e)||(l.push(a.get(Rt)),tr(e)&&l.push(a.get(bn)));break;case"set":tr(e)&&l.push(a.get(Rt));break}if(l.length===1)l[0]&&Cn(l[0]);else{const s=[];for(const c of l)c&&s.push(...c);Cn(Yn(s))}}function Cn(e,t){const r=z(e)?e:[...e];for(const n of r)n.computed&&Ei(n);for(const n of r)n.computed||Ei(n)}function Ei(e,t){(e!==Ne||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const nc=Gn("__proto__,__v_isRef,__isVue"),Yo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vn)),ic=Xn(),oc=Xn(!1,!0),sc=Xn(!0),Pi=ac();function ac(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Y(this);for(let o=0,a=this.length;o<a;o++)Oe(n,"get",o+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(Y)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){zt();const n=Y(this)[t].apply(this,r);return Gt(),n}}),e}function cc(e){const t=Y(this);return Oe(t,"has",e),t.hasOwnProperty(e)}function Xn(e=!1,t=!1){return function(n,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?Ec:ts:t?es:Zo).get(n))return n;const a=z(n);if(!e){if(a&&W(Pi,i))return Reflect.get(Pi,i,o);if(i==="hasOwnProperty")return cc}const l=Reflect.get(n,i,o);return(Vn(i)?Yo.has(i):nc(i))||(e||Oe(n,"get",i),t)?l:fe(l)?a&&Jn(i)?l:l.value:ce(l)?e?ns(l):qr(l):l}}const lc=Qo(),fc=Qo(!0);function Qo(e=!1){return function(r,n,i,o){let a=r[n];if(Ft(a)&&fe(a)&&!fe(i))return!1;if(!e&&(!Lr(i)&&!Ft(i)&&(a=Y(a),i=Y(i)),!z(r)&&fe(a)&&!fe(i)))return a.value=i,!0;const l=z(r)&&Jn(n)?Number(n)<r.length:W(r,n),s=Reflect.set(r,n,i,o);return r===Y(o)&&(l?ar(i,a)&&ct(r,"set",n,i):ct(r,"add",n,i)),s}}function uc(e,t){const r=W(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&ct(e,"delete",t,void 0),n}function pc(e,t){const r=Reflect.has(e,t);return(!Vn(t)||!Yo.has(t))&&Oe(e,"has",t),r}function dc(e){return Oe(e,"iterate",z(e)?"length":Rt),Reflect.ownKeys(e)}const Xo={get:ic,set:lc,deleteProperty:uc,has:pc,ownKeys:dc},hc={get:sc,set(e,t){return!0},deleteProperty(e,t){return!0}},mc=ue({},Xo,{get:oc,set:fc}),Zn=e=>e,Wr=e=>Reflect.getPrototypeOf(e);function vr(e,t,r=!1,n=!1){e=e.__v_raw;const i=Y(e),o=Y(t);r||(t!==o&&Oe(i,"get",t),Oe(i,"get",o));const{has:a}=Wr(i),l=n?Zn:r?ni:cr;if(a.call(i,t))return l(e.get(t));if(a.call(i,o))return l(e.get(o));e!==i&&e.get(t)}function yr(e,t=!1){const r=this.__v_raw,n=Y(r),i=Y(e);return t||(e!==i&&Oe(n,"has",e),Oe(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function _r(e,t=!1){return e=e.__v_raw,!t&&Oe(Y(e),"iterate",Rt),Reflect.get(e,"size",e)}function Ri(e){e=Y(e);const t=Y(this);return Wr(t).has.call(t,e)||(t.add(e),ct(t,"add",e,e)),this}function xi(e,t){t=Y(t);const r=Y(this),{has:n,get:i}=Wr(r);let o=n.call(r,e);o||(e=Y(e),o=n.call(r,e));const a=i.call(r,e);return r.set(e,t),o?ar(t,a)&&ct(r,"set",e,t):ct(r,"add",e,t),this}function ki(e){const t=Y(this),{has:r,get:n}=Wr(t);let i=r.call(t,e);i||(e=Y(e),i=r.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&ct(t,"delete",e,void 0),o}function Oi(){const e=Y(this),t=e.size!==0,r=e.clear();return t&&ct(e,"clear",void 0,void 0),r}function br(e,t){return function(n,i){const o=this,a=o.__v_raw,l=Y(a),s=t?Zn:e?ni:cr;return!e&&Oe(l,"iterate",Rt),a.forEach((c,f)=>n.call(i,s(c),s(f),o))}}function Cr(e,t,r){return function(...n){const i=this.__v_raw,o=Y(i),a=tr(o),l=e==="entries"||e===Symbol.iterator&&a,s=e==="keys"&&a,c=i[e](...n),f=r?Zn:t?ni:cr;return!t&&Oe(o,"iterate",s?bn:Rt),{next(){const{value:u,done:p}=c.next();return p?{value:u,done:p}:{value:l?[f(u[0]),f(u[1])]:f(u),done:p}},[Symbol.iterator](){return this}}}}function ut(e){return function(...t){return e==="delete"?!1:this}}function gc(){const e={get(o){return vr(this,o)},get size(){return _r(this)},has:yr,add:Ri,set:xi,delete:ki,clear:Oi,forEach:br(!1,!1)},t={get(o){return vr(this,o,!1,!0)},get size(){return _r(this)},has:yr,add:Ri,set:xi,delete:ki,clear:Oi,forEach:br(!1,!0)},r={get(o){return vr(this,o,!0)},get size(){return _r(this,!0)},has(o){return yr.call(this,o,!0)},add:ut("add"),set:ut("set"),delete:ut("delete"),clear:ut("clear"),forEach:br(!0,!1)},n={get(o){return vr(this,o,!0,!0)},get size(){return _r(this,!0)},has(o){return yr.call(this,o,!0)},add:ut("add"),set:ut("set"),delete:ut("delete"),clear:ut("clear"),forEach:br(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Cr(o,!1,!1),r[o]=Cr(o,!0,!1),t[o]=Cr(o,!1,!0),n[o]=Cr(o,!0,!0)}),[e,r,t,n]}const[vc,yc,_c,bc]=gc();function ei(e,t){const r=t?e?bc:_c:e?yc:vc;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(W(r,i)&&i in n?r:n,i,o)}const Cc={get:ei(!1,!1)},Sc={get:ei(!1,!0)},Tc={get:ei(!0,!1)},Zo=new WeakMap,es=new WeakMap,ts=new WeakMap,Ec=new WeakMap;function Pc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Rc(e){return e.__v_skip||!Object.isExtensible(e)?0:Pc(za(e))}function qr(e){return Ft(e)?e:ti(e,!1,Xo,Cc,Zo)}function rs(e){return ti(e,!1,mc,Sc,es)}function ns(e){return ti(e,!0,hc,Tc,ts)}function ti(e,t,r,n,i){if(!ce(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const a=Rc(e);if(a===0)return e;const l=new Proxy(e,a===2?n:r);return i.set(e,l),l}function jt(e){return Ft(e)?jt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ft(e){return!!(e&&e.__v_isReadonly)}function Lr(e){return!!(e&&e.__v_isShallow)}function is(e){return jt(e)||Ft(e)}function Y(e){const t=e&&e.__v_raw;return t?Y(t):e}function ri(e){return Fr(e,"__v_skip",!0),e}const cr=e=>ce(e)?qr(e):e,ni=e=>ce(e)?ns(e):e;function os(e){mt&&Ne&&(e=Y(e),qo(e.dep||(e.dep=Yn())))}function ss(e,t){e=Y(e);const r=e.dep;r&&Cn(r)}function fe(e){return!!(e&&e.__v_isRef===!0)}function It(e){return as(e,!1)}function xc(e){return as(e,!0)}function as(e,t){return fe(e)?e:new kc(e,t)}class kc{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Y(t),this._value=r?t:cr(t)}get value(){return os(this),this._value}set value(t){const r=this.__v_isShallow||Lr(t)||Ft(t);t=r?t:Y(t),ar(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:cr(t),ss(this))}}function gt(e){return fe(e)?e.value:e}const Oc={get:(e,t,r)=>gt(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return fe(i)&&!fe(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function cs(e){return jt(e)?e:new Proxy(e,Oc)}class Mc{constructor(t,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Qn(t,()=>{this._dirty||(this._dirty=!0,ss(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=Y(this);return os(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Dc(e,t,r=!1){let n,i;const o=H(e);return o?(n=e,i=He):(n=e.get,i=e.set),new Mc(n,i,o||!i,r)}function vt(e,t,r,n){let i;try{i=n?e(...n):e()}catch(o){Yr(o,t,r)}return i}function Ke(e,t,r,n){if(H(e)){const o=vt(e,t,r,n);return o&&Go(o)&&o.catch(a=>{Yr(a,t,r)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Ke(e[o],t,r,n));return i}function Yr(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,l=r;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,a,l)===!1)return}o=o.parent}const s=t.appContext.config.errorHandler;if(s){vt(s,null,10,[e,a,l]);return}}Ic(e,r,i,n)}function Ic(e,t,r,n=!0){console.error(e)}let lr=!1,Sn=!1;const _e=[];let Xe=0;const Bt=[];let it=null,Tt=0;const ls=Promise.resolve();let ii=null;function fs(e){const t=ii||ls;return e?t.then(this?e.bind(this):e):t}function Ac(e){let t=Xe+1,r=_e.length;for(;t<r;){const n=t+r>>>1;fr(_e[n])<e?t=n+1:r=n}return t}function oi(e){(!_e.length||!_e.includes(e,lr&&e.allowRecurse?Xe+1:Xe))&&(e.id==null?_e.push(e):_e.splice(Ac(e.id),0,e),us())}function us(){!lr&&!Sn&&(Sn=!0,ii=ls.then(ds))}function jc(e){const t=_e.indexOf(e);t>Xe&&_e.splice(t,1)}function Bc(e){z(e)?Bt.push(...e):(!it||!it.includes(e,e.allowRecurse?Tt+1:Tt))&&Bt.push(e),us()}function Mi(e,t=lr?Xe+1:0){for(;t<_e.length;t++){const r=_e[t];r&&r.pre&&(_e.splice(t,1),t--,r())}}function ps(e){if(Bt.length){const t=[...new Set(Bt)];if(Bt.length=0,it){it.push(...t);return}for(it=t,it.sort((r,n)=>fr(r)-fr(n)),Tt=0;Tt<it.length;Tt++)it[Tt]();it=null,Tt=0}}const fr=e=>e.id==null?1/0:e.id,Fc=(e,t)=>{const r=fr(e)-fr(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function ds(e){Sn=!1,lr=!0,_e.sort(Fc);const t=He;try{for(Xe=0;Xe<_e.length;Xe++){const r=_e[Xe];r&&r.active!==!1&&vt(r,null,14)}}finally{Xe=0,_e.length=0,ps(),lr=!1,ii=null,(_e.length||Bt.length)&&ds()}}function Lc(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||ie;let i=r;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in n){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:u,trim:p}=n[f]||ie;p&&(i=r.map(m=>me(m)?m.trim():m)),u&&(i=r.map(gn))}let l,s=n[l=on(t)]||n[l=on(Ze(t))];!s&&o&&(s=n[l=on(Ut(t))]),s&&Ke(s,e,6,i);const c=n[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ke(c,e,6,i)}}function hs(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let a={},l=!1;if(!H(e)){const s=c=>{const f=hs(c,t,!0);f&&(l=!0,ue(a,f))};!r&&t.mixins.length&&t.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}return!o&&!l?(ce(e)&&n.set(e,null),null):(z(o)?o.forEach(s=>a[s]=null):ue(a,o),ce(e)&&n.set(e,a),a)}function Qr(e,t){return!e||!Hr(t)?!1:(t=t.slice(2).replace(/Once$/,""),W(e,t[0].toLowerCase()+t.slice(1))||W(e,Ut(t))||W(e,t))}let je=null,ms=null;function wr(e){const t=je;return je=e,ms=e&&e.type.__scopeId||null,t}function wc(e,t=je,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&zi(-1);const o=wr(t);let a;try{a=e(...i)}finally{wr(o),n._d&&zi(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function sn(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:o,propsOptions:[a],slots:l,attrs:s,emit:c,render:f,renderCache:u,data:p,setupState:m,ctx:g,inheritAttrs:_}=e;let I,S;const E=wr(e);try{if(r.shapeFlag&4){const O=i||n;I=Qe(f.call(O,O,u,o,m,p,g)),S=s}else{const O=t;I=Qe(O.length>1?O(o,{attrs:s,slots:l,emit:c}):O(o,null)),S=t.props?s:$c(s)}}catch(O){nr.length=0,Yr(O,e,1),I=Be(ur)}let N=I;if(S&&_!==!1){const O=Object.keys(S),{shapeFlag:K}=N;O.length&&K&7&&(a&&O.some(Hn)&&(S=Nc(S,a)),N=Lt(N,S))}return r.dirs&&(N=Lt(N),N.dirs=N.dirs?N.dirs.concat(r.dirs):r.dirs),r.transition&&(N.transition=r.transition),I=N,wr(E),I}const $c=e=>{let t;for(const r in e)(r==="class"||r==="style"||Hr(r))&&((t||(t={}))[r]=e[r]);return t},Nc=(e,t)=>{const r={};for(const n in e)(!Hn(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Uc(e,t,r){const{props:n,children:i,component:o}=e,{props:a,children:l,patchFlag:s}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&s>=0){if(s&1024)return!0;if(s&16)return n?Di(n,a,c):!!a;if(s&8){const f=t.dynamicProps;for(let u=0;u<f.length;u++){const p=f[u];if(a[p]!==n[p]&&!Qr(c,p))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===a?!1:n?a?Di(n,a,c):!0:!!a;return!1}function Di(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!Qr(r,o))return!0}return!1}function zc({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Gc=e=>e.__isSuspense;function Hc(e,t){t&&t.pendingBranch?z(e)?t.effects.push(...e):t.effects.push(e):Bc(e)}const Sr={};function kr(e,t,r){return gs(e,t,r)}function gs(e,t,{immediate:r,deep:n,flush:i,onTrack:o,onTrigger:a}=ie){var l;const s=ec()===((l=he)==null?void 0:l.scope)?he:null;let c,f=!1,u=!1;if(fe(e)?(c=()=>e.value,f=Lr(e)):jt(e)?(c=()=>e,n=!0):z(e)?(u=!0,f=e.some(O=>jt(O)||Lr(O)),c=()=>e.map(O=>{if(fe(O))return O.value;if(jt(O))return Pt(O);if(H(O))return vt(O,s,2)})):H(e)?t?c=()=>vt(e,s,2):c=()=>{if(!(s&&s.isUnmounted))return p&&p(),Ke(e,s,3,[m])}:c=He,t&&n){const O=c;c=()=>Pt(O())}let p,m=O=>{p=E.onStop=()=>{vt(O,s,4)}},g;if(dr)if(m=He,t?r&&Ke(t,s,3,[c(),u?[]:void 0,m]):c(),i==="sync"){const O=wl();g=O.__watcherHandles||(O.__watcherHandles=[])}else return He;let _=u?new Array(e.length).fill(Sr):Sr;const I=()=>{if(E.active)if(t){const O=E.run();(n||f||(u?O.some((K,X)=>ar(K,_[X])):ar(O,_)))&&(p&&p(),Ke(t,s,3,[O,_===Sr?void 0:u&&_[0]===Sr?[]:_,m]),_=O)}else E.run()};I.allowRecurse=!!t;let S;i==="sync"?S=I:i==="post"?S=()=>Re(I,s&&s.suspense):(I.pre=!0,s&&(I.id=s.uid),S=()=>oi(I));const E=new Qn(c,S);t?r?I():_=E.run():i==="post"?Re(E.run.bind(E),s&&s.suspense):E.run();const N=()=>{E.stop(),s&&s.scope&&Kn(s.scope.effects,E)};return g&&g.push(N),N}function Kc(e,t,r){const n=this.proxy,i=me(e)?e.includes(".")?vs(n,e):()=>n[e]:e.bind(n,n);let o;H(t)?o=t:(o=t.handler,r=t);const a=he;wt(this);const l=gs(i,o.bind(n),r);return a?wt(a):xt(),l}function vs(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function Pt(e,t){if(!ce(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),fe(e))Pt(e.value,t);else if(z(e))for(let r=0;r<e.length;r++)Pt(e[r],t);else if(Na(e)||tr(e))e.forEach(r=>{Pt(r,t)});else if(Ga(e))for(const r in e)Pt(e[r],t);return e}function Ii(e,t){const r=je;if(r===null)return e;const n=tn(r)||r.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,l,s,c=ie]=t[o];a&&(H(a)&&(a={mounted:a,updated:a}),a.deep&&Pt(l),i.push({dir:a,instance:n,value:l,oldValue:void 0,arg:s,modifiers:c}))}return e}function _t(e,t,r,n){const i=e.dirs,o=t&&t.dirs;for(let a=0;a<i.length;a++){const l=i[a];o&&(l.oldValue=o[a].value);let s=l.dir[n];s&&(zt(),Ke(s,r,8,[e.el,l,e,t]),Gt())}}function si(e,t){return H(e)?(()=>ue({name:e.name},t,{setup:e}))():e}const Or=e=>!!e.type.__asyncLoader,ys=e=>e.type.__isKeepAlive;function Vc(e,t){_s(e,"a",t)}function Jc(e,t){_s(e,"da",t)}function _s(e,t,r=he){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Xr(t,n,r),r){let i=r.parent;for(;i&&i.parent;)ys(i.parent.vnode)&&Wc(n,t,r,i),i=i.parent}}function Wc(e,t,r,n){const i=Xr(t,e,n,!0);Cs(()=>{Kn(n[t],i)},r)}function Xr(e,t,r=he,n=!1){if(r){const i=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;zt(),wt(r);const l=Ke(t,r,e,a);return xt(),Gt(),l});return n?i.unshift(o):i.push(o),o}}const lt=e=>(t,r=he)=>(!dr||e==="sp")&&Xr(e,(...n)=>t(...n),r),bs=lt("bm"),qc=lt("m"),Yc=lt("bu"),Qc=lt("u"),Xc=lt("bum"),Cs=lt("um"),Zc=lt("sp"),el=lt("rtg"),tl=lt("rtc");function rl(e,t=he){Xr("ec",e,t)}const Ss="components";function nl(e,t){return ol(Ss,e,!0,t)||e}const il=Symbol.for("v-ndc");function ol(e,t,r=!0,n=!1){const i=je||he;if(i){const o=i.type;if(e===Ss){const l=Bl(o,!1);if(l&&(l===t||l===Ze(t)||l===Jr(Ze(t))))return o}const a=Ai(i[e]||o[e],t)||Ai(i.appContext[e],t);return!a&&n?o:a}}function Ai(e,t){return e&&(e[t]||e[Ze(t)]||e[Jr(Ze(t))])}const Tn=e=>e?js(e)?tn(e)||e.proxy:Tn(e.parent):null,rr=ue(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tn(e.parent),$root:e=>Tn(e.root),$emit:e=>e.emit,$options:e=>ai(e),$forceUpdate:e=>e.f||(e.f=()=>oi(e.update)),$nextTick:e=>e.n||(e.n=fs.bind(e.proxy)),$watch:e=>Kc.bind(e)}),an=(e,t)=>e!==ie&&!e.__isScriptSetup&&W(e,t),sl={get({_:e},t){const{ctx:r,setupState:n,data:i,props:o,accessCache:a,type:l,appContext:s}=e;let c;if(t[0]!=="$"){const m=a[t];if(m!==void 0)switch(m){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return o[t]}else{if(an(n,t))return a[t]=1,n[t];if(i!==ie&&W(i,t))return a[t]=2,i[t];if((c=e.propsOptions[0])&&W(c,t))return a[t]=3,o[t];if(r!==ie&&W(r,t))return a[t]=4,r[t];En&&(a[t]=0)}}const f=rr[t];let u,p;if(f)return t==="$attrs"&&Oe(e,"get",t),f(e);if((u=l.__cssModules)&&(u=u[t]))return u;if(r!==ie&&W(r,t))return a[t]=4,r[t];if(p=s.config.globalProperties,W(p,t))return p[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:o}=e;return an(i,t)?(i[t]=r,!0):n!==ie&&W(n,t)?(n[t]=r,!0):W(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:o}},a){let l;return!!r[a]||e!==ie&&W(e,a)||an(t,a)||(l=o[0])&&W(l,a)||W(n,a)||W(rr,a)||W(i.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:W(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function ji(e){return z(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let En=!0;function al(e){const t=ai(e),r=e.proxy,n=e.ctx;En=!1,t.beforeCreate&&Bi(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:a,watch:l,provide:s,inject:c,created:f,beforeMount:u,mounted:p,beforeUpdate:m,updated:g,activated:_,deactivated:I,beforeDestroy:S,beforeUnmount:E,destroyed:N,unmounted:O,render:K,renderTracked:X,renderTriggered:ne,errorCaptured:te,serverPrefetch:tt,expose:$,inheritAttrs:Fe,components:Me,directives:Ee,filters:Ce}=t;if(c&&cl(c,n,null),a)for(const J in a){const G=a[J];H(G)&&(n[J]=G.bind(r))}if(i){const J=i.call(r,r);ce(J)&&(e.data=qr(J))}if(En=!0,o)for(const J in o){const G=o[J],Ae=H(G)?G.bind(r,r):H(G.get)?G.get.bind(r,r):He,Le=!H(G)&&H(G.set)?G.set.bind(r):He,Pe=Ue({get:Ae,set:Le});Object.defineProperty(n,J,{enumerable:!0,configurable:!0,get:()=>Pe.value,set:pe=>Pe.value=pe})}if(l)for(const J in l)Ts(l[J],n,r,J);if(s){const J=H(s)?s.call(r):s;Reflect.ownKeys(J).forEach(G=>{Mr(G,J[G])})}f&&Bi(f,e,"c");function se(J,G){z(G)?G.forEach(Ae=>J(Ae.bind(r))):G&&J(G.bind(r))}if(se(bs,u),se(qc,p),se(Yc,m),se(Qc,g),se(Vc,_),se(Jc,I),se(rl,te),se(tl,X),se(el,ne),se(Xc,E),se(Cs,O),se(Zc,tt),z($))if($.length){const J=e.exposed||(e.exposed={});$.forEach(G=>{Object.defineProperty(J,G,{get:()=>r[G],set:Ae=>r[G]=Ae})})}else e.exposed||(e.exposed={});K&&e.render===He&&(e.render=K),Fe!=null&&(e.inheritAttrs=Fe),Me&&(e.components=Me),Ee&&(e.directives=Ee)}function cl(e,t,r=He){z(e)&&(e=Pn(e));for(const n in e){const i=e[n];let o;ce(i)?"default"in i?o=at(i.from||n,i.default,!0):o=at(i.from||n):o=at(i),fe(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[n]=o}}function Bi(e,t,r){Ke(z(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Ts(e,t,r,n){const i=n.includes(".")?vs(r,n):()=>r[n];if(me(e)){const o=t[e];H(o)&&kr(i,o)}else if(H(e))kr(i,e.bind(r));else if(ce(e))if(z(e))e.forEach(o=>Ts(o,t,r,n));else{const o=H(e.handler)?e.handler.bind(r):t[e.handler];H(o)&&kr(i,o,e)}}function ai(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,l=o.get(t);let s;return l?s=l:!i.length&&!r&&!n?s=t:(s={},i.length&&i.forEach(c=>$r(s,c,a,!0)),$r(s,t,a)),ce(t)&&o.set(t,s),s}function $r(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&$r(e,o,r,!0),i&&i.forEach(a=>$r(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const l=ll[a]||r&&r[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const ll={data:Fi,props:Li,emits:Li,methods:Qt,computed:Qt,beforeCreate:Se,created:Se,beforeMount:Se,mounted:Se,beforeUpdate:Se,updated:Se,beforeDestroy:Se,beforeUnmount:Se,destroyed:Se,unmounted:Se,activated:Se,deactivated:Se,errorCaptured:Se,serverPrefetch:Se,components:Qt,directives:Qt,watch:ul,provide:Fi,inject:fl};function Fi(e,t){return t?e?function(){return ue(H(e)?e.call(this,this):e,H(t)?t.call(this,this):t)}:t:e}function fl(e,t){return Qt(Pn(e),Pn(t))}function Pn(e){if(z(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Se(e,t){return e?[...new Set([].concat(e,t))]:t}function Qt(e,t){return e?ue(Object.create(null),e,t):t}function Li(e,t){return e?z(e)&&z(t)?[...new Set([...e,...t])]:ue(Object.create(null),ji(e),ji(t??{})):t}function ul(e,t){if(!e)return t;if(!t)return e;const r=ue(Object.create(null),e);for(const n in t)r[n]=Se(e[n],t[n]);return r}function Es(){return{app:null,config:{isNativeTag:La,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pl=0;function dl(e,t){return function(n,i=null){H(n)||(n=ue({},n)),i!=null&&!ce(i)&&(i=null);const o=Es(),a=new Set;let l=!1;const s=o.app={_uid:pl++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:$l,get config(){return o.config},set config(c){},use(c,...f){return a.has(c)||(c&&H(c.install)?(a.add(c),c.install(s,...f)):H(c)&&(a.add(c),c(s,...f))),s},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),s},component(c,f){return f?(o.components[c]=f,s):o.components[c]},directive(c,f){return f?(o.directives[c]=f,s):o.directives[c]},mount(c,f,u){if(!l){const p=Be(n,i);return p.appContext=o,f&&t?t(p,c):e(p,c,u),l=!0,s._container=c,c.__vue_app__=s,tn(p.component)||p.component.proxy}},unmount(){l&&(e(null,s._container),delete s._container.__vue_app__)},provide(c,f){return o.provides[c]=f,s},runWithContext(c){Nr=s;try{return c()}finally{Nr=null}}};return s}}let Nr=null;function Mr(e,t){if(he){let r=he.provides;const n=he.parent&&he.parent.provides;n===r&&(r=he.provides=Object.create(n)),r[e]=t}}function at(e,t,r=!1){const n=he||je;if(n||Nr){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Nr._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&H(t)?t.call(n&&n.proxy):t}}function hl(e,t,r,n=!1){const i={},o={};Fr(o,en,1),e.propsDefaults=Object.create(null),Ps(e,t,i,o);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);r?e.props=n?i:rs(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function ml(e,t,r,n){const{props:i,attrs:o,vnode:{patchFlag:a}}=e,l=Y(i),[s]=e.propsOptions;let c=!1;if((n||a>0)&&!(a&16)){if(a&8){const f=e.vnode.dynamicProps;for(let u=0;u<f.length;u++){let p=f[u];if(Qr(e.emitsOptions,p))continue;const m=t[p];if(s)if(W(o,p))m!==o[p]&&(o[p]=m,c=!0);else{const g=Ze(p);i[g]=Rn(s,l,g,m,e,!1)}else m!==o[p]&&(o[p]=m,c=!0)}}}else{Ps(e,t,i,o)&&(c=!0);let f;for(const u in l)(!t||!W(t,u)&&((f=Ut(u))===u||!W(t,f)))&&(s?r&&(r[u]!==void 0||r[f]!==void 0)&&(i[u]=Rn(s,l,u,void 0,e,!0)):delete i[u]);if(o!==l)for(const u in o)(!t||!W(t,u))&&(delete o[u],c=!0)}c&&ct(e,"set","$attrs")}function Ps(e,t,r,n){const[i,o]=e.propsOptions;let a=!1,l;if(t)for(let s in t){if(Rr(s))continue;const c=t[s];let f;i&&W(i,f=Ze(s))?!o||!o.includes(f)?r[f]=c:(l||(l={}))[f]=c:Qr(e.emitsOptions,s)||(!(s in n)||c!==n[s])&&(n[s]=c,a=!0)}if(o){const s=Y(r),c=l||ie;for(let f=0;f<o.length;f++){const u=o[f];r[u]=Rn(i,s,u,c[u],e,!W(c,u))}}return a}function Rn(e,t,r,n,i,o){const a=e[r];if(a!=null){const l=W(a,"default");if(l&&n===void 0){const s=a.default;if(a.type!==Function&&!a.skipFactory&&H(s)){const{propsDefaults:c}=i;r in c?n=c[r]:(wt(i),n=c[r]=s.call(null,t),xt())}else n=s}a[0]&&(o&&!l?n=!1:a[1]&&(n===""||n===Ut(r))&&(n=!0))}return n}function Rs(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,a={},l=[];let s=!1;if(!H(e)){const f=u=>{s=!0;const[p,m]=Rs(u,t,!0);ue(a,p),m&&l.push(...m)};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!s)return ce(e)&&n.set(e,At),At;if(z(o))for(let f=0;f<o.length;f++){const u=Ze(o[f]);wi(u)&&(a[u]=ie)}else if(o)for(const f in o){const u=Ze(f);if(wi(u)){const p=o[f],m=a[u]=z(p)||H(p)?{type:p}:ue({},p);if(m){const g=Ui(Boolean,m.type),_=Ui(String,m.type);m[0]=g>-1,m[1]=_<0||g<_,(g>-1||W(m,"default"))&&l.push(u)}}}const c=[a,l];return ce(e)&&n.set(e,c),c}function wi(e){return e[0]!=="$"}function $i(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ni(e,t){return $i(e)===$i(t)}function Ui(e,t){return z(t)?t.findIndex(r=>Ni(r,e)):H(t)&&Ni(t,e)?0:-1}const xs=e=>e[0]==="_"||e==="$stable",ci=e=>z(e)?e.map(Qe):[Qe(e)],gl=(e,t,r)=>{if(t._n)return t;const n=wc((...i)=>ci(t(...i)),r);return n._c=!1,n},ks=(e,t,r)=>{const n=e._ctx;for(const i in e){if(xs(i))continue;const o=e[i];if(H(o))t[i]=gl(i,o,n);else if(o!=null){const a=ci(o);t[i]=()=>a}}},Os=(e,t)=>{const r=ci(t);e.slots.default=()=>r},vl=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Y(t),Fr(t,"_",r)):ks(t,e.slots={})}else e.slots={},t&&Os(e,t);Fr(e.slots,en,1)},yl=(e,t,r)=>{const{vnode:n,slots:i}=e;let o=!0,a=ie;if(n.shapeFlag&32){const l=t._;l?r&&l===1?o=!1:(ue(i,t),!r&&l===1&&delete i._):(o=!t.$stable,ks(t,i)),a=t}else t&&(Os(e,t),a={default:1});if(o)for(const l in i)!xs(l)&&!(l in a)&&delete i[l]};function xn(e,t,r,n,i=!1){if(z(e)){e.forEach((p,m)=>xn(p,t&&(z(t)?t[m]:t),r,n,i));return}if(Or(n)&&!i)return;const o=n.shapeFlag&4?tn(n.component)||n.component.proxy:n.el,a=i?null:o,{i:l,r:s}=e,c=t&&t.r,f=l.refs===ie?l.refs={}:l.refs,u=l.setupState;if(c!=null&&c!==s&&(me(c)?(f[c]=null,W(u,c)&&(u[c]=null)):fe(c)&&(c.value=null)),H(s))vt(s,l,12,[a,f]);else{const p=me(s),m=fe(s);if(p||m){const g=()=>{if(e.f){const _=p?W(u,s)?u[s]:f[s]:s.value;i?z(_)&&Kn(_,o):z(_)?_.includes(o)||_.push(o):p?(f[s]=[o],W(u,s)&&(u[s]=f[s])):(s.value=[o],e.k&&(f[e.k]=s.value))}else p?(f[s]=a,W(u,s)&&(u[s]=a)):m&&(s.value=a,e.k&&(f[e.k]=a))};a?(g.id=-1,Re(g,r)):g()}}}const Re=Hc;function _l(e){return bl(e)}function bl(e,t){const r=vn();r.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:a,createText:l,createComment:s,setText:c,setElementText:f,parentNode:u,nextSibling:p,setScopeId:m=He,insertStaticContent:g}=e,_=(d,h,v,y=null,C=null,T=null,M=!1,x=null,k=!!h.dynamicChildren)=>{if(d===h)return;d&&!Vt(d,h)&&(y=b(d),pe(d,C,T,!0),d=null),h.patchFlag===-2&&(k=!1,h.dynamicChildren=null);const{type:P,ref:F,shapeFlag:j}=h;switch(P){case Zr:I(d,h,v,y);break;case ur:S(d,h,v,y);break;case cn:d==null&&E(h,v,y,M);break;case Ye:Me(d,h,v,y,C,T,M,x,k);break;default:j&1?K(d,h,v,y,C,T,M,x,k):j&6?Ee(d,h,v,y,C,T,M,x,k):(j&64||j&128)&&P.process(d,h,v,y,C,T,M,x,k,R)}F!=null&&C&&xn(F,d&&d.ref,T,h||d,!h)},I=(d,h,v,y)=>{if(d==null)n(h.el=l(h.children),v,y);else{const C=h.el=d.el;h.children!==d.children&&c(C,h.children)}},S=(d,h,v,y)=>{d==null?n(h.el=s(h.children||""),v,y):h.el=d.el},E=(d,h,v,y)=>{[d.el,d.anchor]=g(d.children,h,v,y,d.el,d.anchor)},N=({el:d,anchor:h},v,y)=>{let C;for(;d&&d!==h;)C=p(d),n(d,v,y),d=C;n(h,v,y)},O=({el:d,anchor:h})=>{let v;for(;d&&d!==h;)v=p(d),i(d),d=v;i(h)},K=(d,h,v,y,C,T,M,x,k)=>{M=M||h.type==="svg",d==null?X(h,v,y,C,T,M,x,k):tt(d,h,C,T,M,x,k)},X=(d,h,v,y,C,T,M,x)=>{let k,P;const{type:F,props:j,shapeFlag:L,transition:U,dirs:V}=d;if(k=d.el=a(d.type,T,j&&j.is,j),L&8?f(k,d.children):L&16&&te(d.children,k,null,y,C,T&&F!=="foreignObject",M,x),V&&_t(d,null,y,"created"),ne(k,d,d.scopeId,M,y),j){for(const ee in j)ee!=="value"&&!Rr(ee)&&o(k,ee,null,j[ee],T,d.children,y,C,oe);"value"in j&&o(k,"value",null,j.value),(P=j.onVnodeBeforeMount)&&qe(P,y,d)}V&&_t(d,null,y,"beforeMount");const re=(!C||C&&!C.pendingBranch)&&U&&!U.persisted;re&&U.beforeEnter(k),n(k,h,v),((P=j&&j.onVnodeMounted)||re||V)&&Re(()=>{P&&qe(P,y,d),re&&U.enter(k),V&&_t(d,null,y,"mounted")},C)},ne=(d,h,v,y,C)=>{if(v&&m(d,v),y)for(let T=0;T<y.length;T++)m(d,y[T]);if(C){let T=C.subTree;if(h===T){const M=C.vnode;ne(d,M,M.scopeId,M.slotScopeIds,C.parent)}}},te=(d,h,v,y,C,T,M,x,k=0)=>{for(let P=k;P<d.length;P++){const F=d[P]=x?dt(d[P]):Qe(d[P]);_(null,F,h,v,y,C,T,M,x)}},tt=(d,h,v,y,C,T,M)=>{const x=h.el=d.el;let{patchFlag:k,dynamicChildren:P,dirs:F}=h;k|=d.patchFlag&16;const j=d.props||ie,L=h.props||ie;let U;v&&bt(v,!1),(U=L.onVnodeBeforeUpdate)&&qe(U,v,h,d),F&&_t(h,d,v,"beforeUpdate"),v&&bt(v,!0);const V=C&&h.type!=="foreignObject";if(P?$(d.dynamicChildren,P,x,v,y,V,T):M||G(d,h,x,null,v,y,V,T,!1),k>0){if(k&16)Fe(x,h,j,L,v,y,C);else if(k&2&&j.class!==L.class&&o(x,"class",null,L.class,C),k&4&&o(x,"style",j.style,L.style,C),k&8){const re=h.dynamicProps;for(let ee=0;ee<re.length;ee++){const le=re[ee],we=j[le],kt=L[le];(kt!==we||le==="value")&&o(x,le,we,kt,C,d.children,v,y,oe)}}k&1&&d.children!==h.children&&f(x,h.children)}else!M&&P==null&&Fe(x,h,j,L,v,y,C);((U=L.onVnodeUpdated)||F)&&Re(()=>{U&&qe(U,v,h,d),F&&_t(h,d,v,"updated")},y)},$=(d,h,v,y,C,T,M)=>{for(let x=0;x<h.length;x++){const k=d[x],P=h[x],F=k.el&&(k.type===Ye||!Vt(k,P)||k.shapeFlag&70)?u(k.el):v;_(k,P,F,null,y,C,T,M,!0)}},Fe=(d,h,v,y,C,T,M)=>{if(v!==y){if(v!==ie)for(const x in v)!Rr(x)&&!(x in y)&&o(d,x,v[x],null,M,h.children,C,T,oe);for(const x in y){if(Rr(x))continue;const k=y[x],P=v[x];k!==P&&x!=="value"&&o(d,x,P,k,M,h.children,C,T,oe)}"value"in y&&o(d,"value",v.value,y.value)}},Me=(d,h,v,y,C,T,M,x,k)=>{const P=h.el=d?d.el:l(""),F=h.anchor=d?d.anchor:l("");let{patchFlag:j,dynamicChildren:L,slotScopeIds:U}=h;U&&(x=x?x.concat(U):U),d==null?(n(P,v,y),n(F,v,y),te(h.children,v,F,C,T,M,x,k)):j>0&&j&64&&L&&d.dynamicChildren?($(d.dynamicChildren,L,v,C,T,M,x),(h.key!=null||C&&h===C.subTree)&&Ms(d,h,!0)):G(d,h,v,F,C,T,M,x,k)},Ee=(d,h,v,y,C,T,M,x,k)=>{h.slotScopeIds=x,d==null?h.shapeFlag&512?C.ctx.activate(h,v,y,M,k):Ce(h,v,y,C,T,M,k):Je(d,h,k)},Ce=(d,h,v,y,C,T,M)=>{const x=d.component=Ml(d,y,C);if(ys(d)&&(x.ctx.renderer=R),Dl(x),x.asyncDep){if(C&&C.registerDep(x,se),!d.el){const k=x.subTree=Be(ur);S(null,k,h,v)}return}se(x,d,h,v,C,T,M)},Je=(d,h,v)=>{const y=h.component=d.component;if(Uc(d,h,v))if(y.asyncDep&&!y.asyncResolved){J(y,h,v);return}else y.next=h,jc(y.update),y.update();else h.el=d.el,y.vnode=h},se=(d,h,v,y,C,T,M)=>{const x=()=>{if(d.isMounted){let{next:F,bu:j,u:L,parent:U,vnode:V}=d,re=F,ee;bt(d,!1),F?(F.el=V.el,J(d,F,M)):F=V,j&&xr(j),(ee=F.props&&F.props.onVnodeBeforeUpdate)&&qe(ee,U,F,V),bt(d,!0);const le=sn(d),we=d.subTree;d.subTree=le,_(we,le,u(we.el),b(we),d,C,T),F.el=le.el,re===null&&zc(d,le.el),L&&Re(L,C),(ee=F.props&&F.props.onVnodeUpdated)&&Re(()=>qe(ee,U,F,V),C)}else{let F;const{el:j,props:L}=h,{bm:U,m:V,parent:re}=d,ee=Or(h);if(bt(d,!1),U&&xr(U),!ee&&(F=L&&L.onVnodeBeforeMount)&&qe(F,re,h),bt(d,!0),j&&q){const le=()=>{d.subTree=sn(d),q(j,d.subTree,d,C,null)};ee?h.type.__asyncLoader().then(()=>!d.isUnmounted&&le()):le()}else{const le=d.subTree=sn(d);_(null,le,v,y,d,C,T),h.el=le.el}if(V&&Re(V,C),!ee&&(F=L&&L.onVnodeMounted)){const le=h;Re(()=>qe(F,re,le),C)}(h.shapeFlag&256||re&&Or(re.vnode)&&re.vnode.shapeFlag&256)&&d.a&&Re(d.a,C),d.isMounted=!0,h=v=y=null}},k=d.effect=new Qn(x,()=>oi(P),d.scope),P=d.update=()=>k.run();P.id=d.uid,bt(d,!0),P()},J=(d,h,v)=>{h.component=d;const y=d.vnode.props;d.vnode=h,d.next=null,ml(d,h.props,y,v),yl(d,h.children,v),zt(),Mi(),Gt()},G=(d,h,v,y,C,T,M,x,k=!1)=>{const P=d&&d.children,F=d?d.shapeFlag:0,j=h.children,{patchFlag:L,shapeFlag:U}=h;if(L>0){if(L&128){Le(P,j,v,y,C,T,M,x,k);return}else if(L&256){Ae(P,j,v,y,C,T,M,x,k);return}}U&8?(F&16&&oe(P,C,T),j!==P&&f(v,j)):F&16?U&16?Le(P,j,v,y,C,T,M,x,k):oe(P,C,T,!0):(F&8&&f(v,""),U&16&&te(j,v,y,C,T,M,x,k))},Ae=(d,h,v,y,C,T,M,x,k)=>{d=d||At,h=h||At;const P=d.length,F=h.length,j=Math.min(P,F);let L;for(L=0;L<j;L++){const U=h[L]=k?dt(h[L]):Qe(h[L]);_(d[L],U,v,null,C,T,M,x,k)}P>F?oe(d,C,T,!0,!1,j):te(h,v,y,C,T,M,x,k,j)},Le=(d,h,v,y,C,T,M,x,k)=>{let P=0;const F=h.length;let j=d.length-1,L=F-1;for(;P<=j&&P<=L;){const U=d[P],V=h[P]=k?dt(h[P]):Qe(h[P]);if(Vt(U,V))_(U,V,v,null,C,T,M,x,k);else break;P++}for(;P<=j&&P<=L;){const U=d[j],V=h[L]=k?dt(h[L]):Qe(h[L]);if(Vt(U,V))_(U,V,v,null,C,T,M,x,k);else break;j--,L--}if(P>j){if(P<=L){const U=L+1,V=U<F?h[U].el:y;for(;P<=L;)_(null,h[P]=k?dt(h[P]):Qe(h[P]),v,V,C,T,M,x,k),P++}}else if(P>L)for(;P<=j;)pe(d[P],C,T,!0),P++;else{const U=P,V=P,re=new Map;for(P=V;P<=L;P++){const Ie=h[P]=k?dt(h[P]):Qe(h[P]);Ie.key!=null&&re.set(Ie.key,P)}let ee,le=0;const we=L-V+1;let kt=!1,_i=0;const Kt=new Array(we);for(P=0;P<we;P++)Kt[P]=0;for(P=U;P<=j;P++){const Ie=d[P];if(le>=we){pe(Ie,C,T,!0);continue}let We;if(Ie.key!=null)We=re.get(Ie.key);else for(ee=V;ee<=L;ee++)if(Kt[ee-V]===0&&Vt(Ie,h[ee])){We=ee;break}We===void 0?pe(Ie,C,T,!0):(Kt[We-V]=P+1,We>=_i?_i=We:kt=!0,_(Ie,h[We],v,null,C,T,M,x,k),le++)}const bi=kt?Cl(Kt):At;for(ee=bi.length-1,P=we-1;P>=0;P--){const Ie=V+P,We=h[Ie],Ci=Ie+1<F?h[Ie+1].el:y;Kt[P]===0?_(null,We,v,Ci,C,T,M,x,k):kt&&(ee<0||P!==bi[ee]?Pe(We,v,Ci,2):ee--)}}},Pe=(d,h,v,y,C=null)=>{const{el:T,type:M,transition:x,children:k,shapeFlag:P}=d;if(P&6){Pe(d.component.subTree,h,v,y);return}if(P&128){d.suspense.move(h,v,y);return}if(P&64){M.move(d,h,v,R);return}if(M===Ye){n(T,h,v);for(let j=0;j<k.length;j++)Pe(k[j],h,v,y);n(d.anchor,h,v);return}if(M===cn){N(d,h,v);return}if(y!==2&&P&1&&x)if(y===0)x.beforeEnter(T),n(T,h,v),Re(()=>x.enter(T),C);else{const{leave:j,delayLeave:L,afterLeave:U}=x,V=()=>n(T,h,v),re=()=>{j(T,()=>{V(),U&&U()})};L?L(T,V,re):re()}else n(T,h,v)},pe=(d,h,v,y=!1,C=!1)=>{const{type:T,props:M,ref:x,children:k,dynamicChildren:P,shapeFlag:F,patchFlag:j,dirs:L}=d;if(x!=null&&xn(x,null,v,d,!0),F&256){h.ctx.deactivate(d);return}const U=F&1&&L,V=!Or(d);let re;if(V&&(re=M&&M.onVnodeBeforeUnmount)&&qe(re,h,d),F&6)ft(d.component,v,y);else{if(F&128){d.suspense.unmount(v,y);return}U&&_t(d,null,h,"beforeUnmount"),F&64?d.type.remove(d,h,v,C,R,y):P&&(T!==Ye||j>0&&j&64)?oe(P,h,v,!1,!0):(T===Ye&&j&384||!C&&F&16)&&oe(k,h,v),y&&rt(d)}(V&&(re=M&&M.onVnodeUnmounted)||U)&&Re(()=>{re&&qe(re,h,d),U&&_t(d,null,h,"unmounted")},v)},rt=d=>{const{type:h,el:v,anchor:y,transition:C}=d;if(h===Ye){De(v,y);return}if(h===cn){O(d);return}const T=()=>{i(v),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(d.shapeFlag&1&&C&&!C.persisted){const{leave:M,delayLeave:x}=C,k=()=>M(v,T);x?x(d.el,T,k):k()}else T()},De=(d,h)=>{let v;for(;d!==h;)v=p(d),i(d),d=v;i(h)},ft=(d,h,v)=>{const{bum:y,scope:C,update:T,subTree:M,um:x}=d;y&&xr(y),C.stop(),T&&(T.active=!1,pe(M,d,h,v)),x&&Re(x,h),Re(()=>{d.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},oe=(d,h,v,y=!1,C=!1,T=0)=>{for(let M=T;M<d.length;M++)pe(d[M],h,v,y,C)},b=d=>d.shapeFlag&6?b(d.component.subTree):d.shapeFlag&128?d.suspense.next():p(d.anchor||d.el),D=(d,h,v)=>{d==null?h._vnode&&pe(h._vnode,null,null,!0):_(h._vnode||null,d,h,null,null,null,v),Mi(),ps(),h._vnode=d},R={p:_,um:pe,m:Pe,r:rt,mt:Ce,mc:te,pc:G,pbc:$,n:b,o:e};let B,q;return t&&([B,q]=t(R)),{render:D,hydrate:B,createApp:dl(D,B)}}function bt({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Ms(e,t,r=!1){const n=e.children,i=t.children;if(z(n)&&z(i))for(let o=0;o<n.length;o++){const a=n[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=dt(i[o]),l.el=a.el),r||Ms(a,l)),l.type===Zr&&(l.el=a.el)}}function Cl(e){const t=e.slice(),r=[0];let n,i,o,a,l;const s=e.length;for(n=0;n<s;n++){const c=e[n];if(c!==0){if(i=r[r.length-1],e[i]<c){t[n]=i,r.push(n);continue}for(o=0,a=r.length-1;o<a;)l=o+a>>1,e[r[l]]<c?o=l+1:a=l;c<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}for(o=r.length,a=r[o-1];o-- >0;)r[o]=a,a=t[a];return r}const Sl=e=>e.__isTeleport,Ye=Symbol.for("v-fgt"),Zr=Symbol.for("v-txt"),ur=Symbol.for("v-cmt"),cn=Symbol.for("v-stc"),nr=[];let Ge=null;function Ds(e=!1){nr.push(Ge=e?null:[])}function Tl(){nr.pop(),Ge=nr[nr.length-1]||null}let pr=1;function zi(e){pr+=e}function El(e){return e.dynamicChildren=pr>0?Ge||At:null,Tl(),pr>0&&Ge&&Ge.push(e),e}function Is(e,t,r,n,i,o){return El(xe(e,t,r,n,i,o,!0))}function kn(e){return e?e.__v_isVNode===!0:!1}function Vt(e,t){return e.type===t.type&&e.key===t.key}const en="__vInternal",As=({key:e})=>e??null,Dr=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?me(e)||fe(e)||H(e)?{i:je,r:e,k:t,f:!!r}:e:null);function xe(e,t=null,r=null,n=0,i=null,o=e===Ye?0:1,a=!1,l=!1){const s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&As(t),ref:t&&Dr(t),scopeId:ms,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:je};return l?(li(s,r),o&128&&e.normalize(s)):r&&(s.shapeFlag|=me(r)?8:16),pr>0&&!a&&Ge&&(s.patchFlag>0||o&6)&&s.patchFlag!==32&&Ge.push(s),s}const Be=Pl;function Pl(e,t=null,r=null,n=0,i=null,o=!1){if((!e||e===il)&&(e=ur),kn(e)){const l=Lt(e,t,!0);return r&&li(l,r),pr>0&&!o&&Ge&&(l.shapeFlag&6?Ge[Ge.indexOf(e)]=l:Ge.push(l)),l.patchFlag|=-2,l}if(Fl(e)&&(e=e.__vccOpts),t){t=Rl(t);let{class:l,style:s}=t;l&&!me(l)&&(t.class=qn(l)),ce(s)&&(is(s)&&!z(s)&&(s=ue({},s)),t.style=Wn(s))}const a=me(e)?1:Gc(e)?128:Sl(e)?64:ce(e)?4:H(e)?2:0;return xe(e,t,r,n,i,a,o,!0)}function Rl(e){return e?is(e)||en in e?ue({},e):e:null}function Lt(e,t,r=!1){const{props:n,ref:i,patchFlag:o,children:a}=e,l=t?xl(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&As(l),ref:t&&t.ref?r&&i?z(i)?i.concat(Dr(t)):[i,Dr(t)]:Dr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ye?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Lt(e.ssContent),ssFallback:e.ssFallback&&Lt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function On(e=" ",t=0){return Be(Zr,null,e,t)}function Qe(e){return e==null||typeof e=="boolean"?Be(ur):z(e)?Be(Ye,null,e.slice()):typeof e=="object"?dt(e):Be(Zr,null,String(e))}function dt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Lt(e)}function li(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(z(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),li(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!(en in t)?t._ctx=je:i===3&&je&&(je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else H(t)?(t={default:t,_ctx:je},r=32):(t=String(t),n&64?(r=16,t=[On(t)]):r=8);e.children=t,e.shapeFlag|=r}function xl(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=qn([t.class,n.class]));else if(i==="style")t.style=Wn([t.style,n.style]);else if(Hr(i)){const o=t[i],a=n[i];a&&o!==a&&!(z(o)&&o.includes(a))&&(t[i]=o?[].concat(o,a):a)}else i!==""&&(t[i]=n[i])}return t}function qe(e,t,r,n=null){Ke(e,t,7,[r,n])}const kl=Es();let Ol=0;function Ml(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||kl,o={uid:Ol++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ko(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rs(n,i),emitsOptions:hs(n,i),emit:null,emitted:null,propsDefaults:ie,inheritAttrs:n.inheritAttrs,ctx:ie,data:ie,props:ie,attrs:ie,slots:ie,refs:ie,setupState:ie,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Lc.bind(null,o),e.ce&&e.ce(o),o}let he=null,fi,Ot,Gi="__VUE_INSTANCE_SETTERS__";(Ot=vn()[Gi])||(Ot=vn()[Gi]=[]),Ot.push(e=>he=e),fi=e=>{Ot.length>1?Ot.forEach(t=>t(e)):Ot[0](e)};const wt=e=>{fi(e),e.scope.on()},xt=()=>{he&&he.scope.off(),fi(null)};function js(e){return e.vnode.shapeFlag&4}let dr=!1;function Dl(e,t=!1){dr=t;const{props:r,children:n}=e.vnode,i=js(e);hl(e,r,i,t),vl(e,n);const o=i?Il(e,t):void 0;return dr=!1,o}function Il(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=ri(new Proxy(e.ctx,sl));const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?jl(e):null;wt(e),zt();const o=vt(n,e,0,[e.props,i]);if(Gt(),xt(),Go(o)){if(o.then(xt,xt),t)return o.then(a=>{Hi(e,a,t)}).catch(a=>{Yr(a,e,0)});e.asyncDep=o}else Hi(e,o,t)}else Bs(e,t)}function Hi(e,t,r){H(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ce(t)&&(e.setupState=cs(t)),Bs(e,r)}let Ki;function Bs(e,t,r){const n=e.type;if(!e.render){if(!t&&Ki&&!n.render){const i=n.template||ai(e).template;if(i){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:s}=n,c=ue(ue({isCustomElement:o,delimiters:l},a),s);n.render=Ki(i,c)}}e.render=n.render||He}wt(e),zt(),al(e),Gt(),xt()}function Al(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Oe(e,"get","$attrs"),t[r]}}))}function jl(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return Al(e)},slots:e.slots,emit:e.emit,expose:t}}function tn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(cs(ri(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in rr)return rr[r](e)},has(t,r){return r in t||r in rr}}))}function Bl(e,t=!0){return H(e)?e.displayName||e.name:e.name||t&&e.__name}function Fl(e){return H(e)&&"__vccOpts"in e}const Ue=(e,t)=>Dc(e,t,dr);function Fs(e,t,r){const n=arguments.length;return n===2?ce(t)&&!z(t)?kn(t)?Be(e,null,[t]):Be(e,t):Be(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&kn(r)&&(r=[r]),Be(e,t,r))}const Ll=Symbol.for("v-scx"),wl=()=>at(Ll),$l="3.3.4",Nl="http://www.w3.org/2000/svg",Et=typeof document<"u"?document:null,Vi=Et&&Et.createElement("template"),Ul={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t?Et.createElementNS(Nl,e):Et.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Et.createTextNode(e),createComment:e=>Et.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Et.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,o){const a=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{Vi.innerHTML=n?`<svg>${e}</svg>`:e;const l=Vi.content;if(n){const s=l.firstChild;for(;s.firstChild;)l.appendChild(s.firstChild);l.removeChild(s)}t.insertBefore(l,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function zl(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function Gl(e,t,r){const n=e.style,i=me(r);if(r&&!i){if(t&&!me(t))for(const o in t)r[o]==null&&Mn(n,o,"");for(const o in r)Mn(n,o,r[o])}else{const o=n.display;i?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}const Ji=/\s*!important$/;function Mn(e,t,r){if(z(r))r.forEach(n=>Mn(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Hl(e,t);Ji.test(r)?e.setProperty(Ut(n),r.replace(Ji,""),"important"):e[n]=r}}const Wi=["Webkit","Moz","ms"],ln={};function Hl(e,t){const r=ln[t];if(r)return r;let n=Ze(t);if(n!=="filter"&&n in e)return ln[t]=n;n=Jr(n);for(let i=0;i<Wi.length;i++){const o=Wi[i]+n;if(o in e)return ln[t]=o}return t}const qi="http://www.w3.org/1999/xlink";function Kl(e,t,r,n,i){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(qi,t.slice(6,t.length)):e.setAttributeNS(qi,t,r);else{const o=Qa(t);r==null||o&&!Ho(r)?e.removeAttribute(t):e.setAttribute(t,o?"":r)}}function Vl(e,t,r,n,i,o,a){if(t==="innerHTML"||t==="textContent"){n&&a(n,i,o),e[t]=r??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=r;const c=l==="OPTION"?e.getAttribute("value"):e.value,f=r??"";c!==f&&(e.value=f),r==null&&e.removeAttribute(t);return}let s=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=Ho(r):r==null&&c==="string"?(r="",s=!0):c==="number"&&(r=0,s=!0)}try{e[t]=r}catch{}s&&e.removeAttribute(t)}function Mt(e,t,r,n){e.addEventListener(t,r,n)}function Jl(e,t,r,n){e.removeEventListener(t,r,n)}function Wl(e,t,r,n,i=null){const o=e._vei||(e._vei={}),a=o[t];if(n&&a)a.value=n;else{const[l,s]=ql(t);if(n){const c=o[t]=Xl(n,i);Mt(e,l,c,s)}else a&&(Jl(e,l,a,s),o[t]=void 0)}}const Yi=/(?:Once|Passive|Capture)$/;function ql(e){let t;if(Yi.test(e)){t={};let n;for(;n=e.match(Yi);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ut(e.slice(2)),t]}let fn=0;const Yl=Promise.resolve(),Ql=()=>fn||(Yl.then(()=>fn=0),fn=Date.now());function Xl(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Ke(Zl(n,r.value),t,5,[n])};return r.value=e,r.attached=Ql(),r}function Zl(e,t){if(z(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Qi=/^on[a-z]/,ef=(e,t,r,n,i=!1,o,a,l,s)=>{t==="class"?zl(e,n,i):t==="style"?Gl(e,r,n):Hr(t)?Hn(t)||Wl(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):tf(e,t,n,i))?Vl(e,t,n,o,a,l,s):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Kl(e,t,n,i))};function tf(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Qi.test(t)&&H(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Qi.test(t)&&me(r)?!1:t in e}const Xi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return z(t)?r=>xr(t,r):t};function rf(e){e.target.composing=!0}function Zi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const eo={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e._assign=Xi(i);const o=n||i.props&&i.props.type==="number";Mt(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;r&&(l=l.trim()),o&&(l=gn(l)),e._assign(l)}),r&&Mt(e,"change",()=>{e.value=e.value.trim()}),t||(Mt(e,"compositionstart",rf),Mt(e,"compositionend",Zi),Mt(e,"change",Zi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:i}},o){if(e._assign=Xi(o),e.composing||document.activeElement===e&&e.type!=="range"&&(r||n&&e.value.trim()===t||(i||e.type==="number")&&gn(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},nf=["ctrl","shift","alt","meta"],of={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>nf.some(r=>e[`${r}Key`]&&!t.includes(r))},sf=(e,t)=>(r,...n)=>{for(let i=0;i<t.length;i++){const o=of[t[i]];if(o&&o(r,t))return}return e(r,...n)},af=ue({patchProp:ef},Ul);let to;function cf(){return to||(to=_l(af))}const lf=(...e)=>{const t=cf().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=ff(n);if(!i)return;const o=t._component;!H(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const a=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function ff(e){return me(e)?document.querySelector(e):e}var uf=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const pf=Symbol();var ro;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ro||(ro={}));function df(){const e=Xa(!0),t=e.run(()=>It({}));let r=[],n=[];const i=ri({install(o){i._a=o,o.provide(pf,i),o.config.globalProperties.$pinia=i,n.forEach(a=>r.push(a)),n=[]},use(o){return!this._a&&!uf?n.push(o):r.push(o),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return i}function ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ls={exports:{}};(function(e){var t={};t.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),t.useArrayBufferView=!t.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),e.exports.binaryFeatures=t;var r=e.exports.BlobBuilder;typeof window<"u"&&(r=e.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function n(){this._pieces=[],this._parts=[]}n.prototype.append=function(i){typeof i=="number"?this._pieces.push(i):(this.flush(),this._parts.push(i))},n.prototype.flush=function(){if(this._pieces.length>0){var i=new Uint8Array(this._pieces);t.useArrayBufferView||(i=i.buffer),this._parts.push(i),this._pieces=[]}},n.prototype.getBuffer=function(){if(this.flush(),t.useBlobBuilder){for(var i=new r,o=0,a=this._parts.length;o<a;o++)i.append(this._parts[o]);return i.getBlob()}else return new Blob(this._parts)},e.exports.BufferBuilder=n})(Ls);var ws=Ls.exports,hf=ws.BufferBuilder,no=ws.binaryFeatures,mf={unpack:function(e){var t=new ge(e);return t.unpack()},pack:function(e){var t=new ve;t.pack(e);var r=t.getBuffer();return r}},gf=mf;function ge(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}ge.prototype.unpack=function(){var e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;var t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}};ge.prototype.unpack_uint8=function(){var e=this.dataView[this.index]&255;return this.index++,e};ge.prototype.unpack_uint16=function(){var e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t};ge.prototype.unpack_uint32=function(){var e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t};ge.prototype.unpack_uint64=function(){var e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t};ge.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-256};ge.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-65536};ge.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)};ge.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)};ge.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t};ge.prototype.unpack_string=function(e){for(var t=this.read(e),r=0,n="",i,o;r<e;)i=t[r],i<128?(n+=String.fromCharCode(i),r++):(i^192)<32?(o=(i^192)<<6|t[r+1]&63,n+=String.fromCharCode(o),r+=2):(o=(i&15)<<12|(t[r+1]&63)<<6|t[r+2]&63,n+=String.fromCharCode(o),r+=3);return this.index+=e,n};ge.prototype.unpack_array=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=this.unpack();return t};ge.prototype.unpack_map=function(e){for(var t={},r=0;r<e;r++){var n=this.unpack(),i=this.unpack();t[n]=i}return t};ge.prototype.unpack_float=function(){var e=this.unpack_uint32(),t=e>>31,r=(e>>23&255)-127,n=e&8388607|8388608;return(t===0?1:-1)*n*Math.pow(2,r-23)};ge.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),r=e>>31,n=(e>>20&2047)-1023,i=e&1048575|1048576,o=i*Math.pow(2,n-20)+t*Math.pow(2,n-52);return(r===0?1:-1)*o};ge.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")};function ve(){this.bufferBuilder=new hf}ve.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()};ve.prototype.pack=function(e){var t=typeof e;if(t==="string")this.pack_string(e);else if(t==="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(t==="boolean")e===!0?this.bufferBuilder.append(195):e===!1&&this.bufferBuilder.append(194);else if(t==="undefined")this.bufferBuilder.append(192);else if(t==="object")if(e===null)this.bufferBuilder.append(192);else{var r=e.constructor;if(r==Array)this.pack_array(e);else if(r==Blob||r==File||e instanceof Blob||e instanceof File)this.pack_bin(e);else if(r==ArrayBuffer)no.useArrayBufferView?this.pack_bin(new Uint8Array(e)):this.pack_bin(e);else if("BYTES_PER_ELEMENT"in e)no.useArrayBufferView?this.pack_bin(new Uint8Array(e.buffer)):this.pack_bin(e.buffer);else if(r==Object||r.toString().startsWith("class"))this.pack_object(e);else if(r==Date)this.pack_string(e.toString());else if(typeof e.toBinaryPack=="function")this.bufferBuilder.append(e.toBinaryPack());else throw new Error('Type "'+r.toString()+'" not yet supported')}else throw new Error('Type "'+t+'" not yet supported');this.bufferBuilder.flush()};ve.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};ve.prototype.pack_string=function(e){var t=yf(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};ve.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");for(var r=0;r<t;r++)this.pack(e[r])};ve.prototype.pack_integer=function(e){if(e>=-32&&e<=127)this.bufferBuilder.append(e&255);else if(e>=0&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")};ve.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var r=Math.floor(Math.log(e)/Math.LN2),n=e/Math.pow(2,r)-1,i=Math.floor(n*Math.pow(2,52)),o=Math.pow(2,32),a=t<<31|r+1023<<20|i/o&1048575,l=i%o;this.bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(l)};ve.prototype.pack_object=function(e){var t=Object.keys(e),r=t.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this.bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");for(var n in e)e.hasOwnProperty(n)&&(this.pack(n),this.pack(e[n]))};ve.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)};ve.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(e&255)};ve.prototype.pack_uint32=function(e){var t=e&4294967295;this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255)};ve.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),r=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((r&4278190080)>>>24),this.bufferBuilder.append((r&16711680)>>>16),this.bufferBuilder.append((r&65280)>>>8),this.bufferBuilder.append(r&255)};ve.prototype.pack_int8=function(e){this.bufferBuilder.append(e&255)};ve.prototype.pack_int16=function(e){this.bufferBuilder.append((e&65280)>>8),this.bufferBuilder.append(e&255)};ve.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255)};ve.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),r=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((r&4278190080)>>>24),this.bufferBuilder.append((r&16711680)>>>16),this.bufferBuilder.append((r&65280)>>>8),this.bufferBuilder.append(r&255)};function vf(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}function yf(e){return e.length>600?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,vf).length}const io=ui(gf);let $s=!0,Ns=!0;function Xt(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function Ht(e,t,r){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(a,l){if(a!==t)return i.apply(this,arguments);const s=c=>{const f=r(c);f&&(l.handleEvent?l.handleEvent(f):l(f))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,s),i.apply(this,[a,s])};const o=n.removeEventListener;n.removeEventListener=function(a,l){if(a!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(l))return o.apply(this,arguments);const s=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[a,s])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(a){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),a&&this.addEventListener(t,this["_on"+t]=a)},enumerable:!0,configurable:!0})}function _f(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):($s=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function bf(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Ns=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function pi(){if(typeof window=="object"){if($s)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function rn(e,t){Ns&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Cf(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator)return t.browser="Not a browser.",t;const{navigator:r}=e;if(r.mozGetUserMedia)t.browser="firefox",t.version=Xt(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=Xt(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(r.mediaDevices&&r.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=Xt(r.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(e.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=Xt(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function oo(e){return Object.prototype.toString.call(e)==="[object Object]"}function Us(e){return oo(e)?Object.keys(e).reduce(function(t,r){const n=oo(e[r]),i=n?Us(e[r]):e[r],o=n&&!Object.keys(i).length;return i===void 0||o?t:Object.assign(t,{[r]:i})},{}):e}function Dn(e,t,r){!t||r.has(t.id)||(r.set(t.id,t),Object.keys(t).forEach(n=>{n.endsWith("Id")?Dn(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach(i=>{Dn(e,e.get(i),r)})}))}function so(e,t,r){const n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const o=[];return e.forEach(a=>{a.type==="track"&&a.trackIdentifier===t.id&&o.push(a)}),o.forEach(a=>{e.forEach(l=>{l.type===n&&l.trackId===a.id&&Dn(e,l,i)})}),i}const ao=pi;function zs(e,t){const r=e&&e.navigator;if(!r.mediaDevices)return;const n=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const s={};return Object.keys(l).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const f=typeof l[c]=="object"?l[c]:{ideal:l[c]};f.exact!==void 0&&typeof f.exact=="number"&&(f.min=f.max=f.exact);const u=function(p,m){return p?p+m.charAt(0).toUpperCase()+m.slice(1):m==="deviceId"?"sourceId":m};if(f.ideal!==void 0){s.optional=s.optional||[];let p={};typeof f.ideal=="number"?(p[u("min",c)]=f.ideal,s.optional.push(p),p={},p[u("max",c)]=f.ideal,s.optional.push(p)):(p[u("",c)]=f.ideal,s.optional.push(p))}f.exact!==void 0&&typeof f.exact!="number"?(s.mandatory=s.mandatory||{},s.mandatory[u("",c)]=f.exact):["min","max"].forEach(p=>{f[p]!==void 0&&(s.mandatory=s.mandatory||{},s.mandatory[u(p,c)]=f[p])})}),l.advanced&&(s.optional=(s.optional||[]).concat(l.advanced)),s},i=function(l,s){if(t.version>=61)return s(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const c=function(f,u,p){u in f&&!(p in f)&&(f[p]=f[u],delete f[u])};l=JSON.parse(JSON.stringify(l)),c(l.audio,"autoGainControl","googAutoGainControl"),c(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=n(l.audio)}if(l&&typeof l.video=="object"){let c=l.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const f=t.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!f)){delete l.video.facingMode;let u;if(c.exact==="environment"||c.ideal==="environment"?u=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(u=["front"]),u)return r.mediaDevices.enumerateDevices().then(p=>{p=p.filter(g=>g.kind==="videoinput");let m=p.find(g=>u.some(_=>g.label.toLowerCase().includes(_)));return!m&&p.length&&u.includes("back")&&(m=p[p.length-1]),m&&(l.video.deviceId=c.exact?{exact:m.deviceId}:{ideal:m.deviceId}),l.video=n(l.video),ao("chrome: "+JSON.stringify(l)),s(l)})}l.video=n(l.video)}return ao("chrome: "+JSON.stringify(l)),s(l)},o=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},a=function(l,s,c){i(l,f=>{r.webkitGetUserMedia(f,s,u=>{c&&c(o(u))})})};if(r.getUserMedia=a.bind(r),r.mediaDevices.getUserMedia){const l=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(s){return i(s,c=>l(c).then(f=>{if(c.audio&&!f.getAudioTracks().length||c.video&&!f.getVideoTracks().length)throw f.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return f},f=>Promise.reject(o(f))))}}}function Sf(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(i=>{const o=n.video&&n.video.width,a=n.video&&n.video.height,l=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:l||3}},o&&(n.video.mandatory.maxWidth=o),a&&(n.video.mandatory.maxHeight=a),e.navigator.mediaDevices.getUserMedia(n)})}}}function Gs(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Hs(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.track.id):o={track:i.track};const a=new Event("track");a.track=i.track,a.receiver=o,a.transceiver={receiver:o},a.streams=[n.stream],this.dispatchEvent(a)}),n.stream.getTracks().forEach(i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.id):o={track:i};const a=new Event("track");a.track=i,a.receiver=o,a.transceiver={receiver:o},a.streams=[n.stream],this.dispatchEvent(a)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Ht(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function Ks(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,s){let c=i.apply(this,arguments);return c||(c=t(this,l),this._senders.push(c)),c};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){o.apply(this,arguments);const s=this._senders.indexOf(l);s!==-1&&this._senders.splice(s,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(a=>{this._senders.push(t(this,a))})};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(a=>{const l=this._senders.find(s=>s.track===a);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const n=t.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Vs(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[n,i,o]=arguments;if(arguments.length>0&&typeof n=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof n!="function"))return t.apply(this,[]);const a=function(s){const c={};return s.result().forEach(u=>{const p={id:u.id,timestamp:u.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[u.type]||u.type};u.names().forEach(m=>{p[m]=u.stat(m)}),c[p.id]=p}),c},l=function(s){return new Map(Object.keys(s).map(c=>[c,s[c]]))};if(arguments.length>=2){const s=function(c){i(l(a(c)))};return t.apply(this,[s,n])}return new Promise((s,c)=>{t.apply(this,[function(f){s(l(a(f)))},c])}).then(i,o)}}function Js(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const r=e.RTCPeerConnection.prototype.getSenders;r&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=r.apply(this,[]);return o.forEach(a=>a._pc=this),o});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=n.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(a=>so(a,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=r.apply(this,[]);return i.forEach(o=>o._pc=this),i}),Ht(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>so(o,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const n=arguments[0];let i,o,a;return this.getSenders().forEach(l=>{l.track===n&&(i?a=!0:i=l)}),this.getReceivers().forEach(l=>(l.track===n&&(o?a=!0:o=l),l.track===n)),a||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Ws(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(a=>this._shimmedLocalStreams[a][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const s=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(s)===-1&&this._shimmedLocalStreams[l.id].push(s):this._shimmedLocalStreams[l.id]=[l,s],s};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(a){this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(c=>{if(this.getSenders().find(u=>u.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();r.apply(this,arguments);const s=this.getSenders().filter(c=>l.indexOf(c)===-1);this._shimmedLocalStreams[a.id]=[a].concat(s)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],n.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const s=this._shimmedLocalStreams[l].indexOf(a);s!==-1&&this._shimmedLocalStreams[l].splice(s,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),i.apply(this,arguments)}}function qs(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Ws(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const f=r.apply(this);return this._reverseStreams=this._reverseStreams||{},f.map(u=>this._reverseStreams[u.id])};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(f){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},f.getTracks().forEach(u=>{if(this.getSenders().find(m=>m.track===u))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[f.id]){const u=new e.MediaStream(f.getTracks());this._streams[f.id]=u,this._reverseStreams[u.id]=f,f=u}n.apply(this,[f])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(f){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[f.id]||f]),delete this._reverseStreams[this._streams[f.id]?this._streams[f.id].id:f.id],delete this._streams[f.id]},e.RTCPeerConnection.prototype.addTrack=function(f,u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const p=[].slice.call(arguments,1);if(p.length!==1||!p[0].getTracks().find(_=>_===f))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(_=>_.track===f))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const g=this._streams[u.id];if(g)g.addTrack(f),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const _=new e.MediaStream([f]);this._streams[u.id]=_,this._reverseStreams[_.id]=u,this.addStream(_)}return this.getSenders().find(_=>_.track===f)};function o(c,f){let u=f.sdp;return Object.keys(c._reverseStreams||[]).forEach(p=>{const m=c._reverseStreams[p],g=c._streams[m.id];u=u.replace(new RegExp(g.id,"g"),m.id)}),new RTCSessionDescription({type:f.type,sdp:u})}function a(c,f){let u=f.sdp;return Object.keys(c._reverseStreams||[]).forEach(p=>{const m=c._reverseStreams[p],g=c._streams[m.id];u=u.replace(new RegExp(m.id,"g"),g.id)}),new RTCSessionDescription({type:f.type,sdp:u})}["createOffer","createAnswer"].forEach(function(c){const f=e.RTCPeerConnection.prototype[c],u={[c](){const p=arguments;return arguments.length&&typeof arguments[0]=="function"?f.apply(this,[g=>{const _=o(this,g);p[0].apply(null,[_])},g=>{p[1]&&p[1].apply(null,g)},arguments[2]]):f.apply(this,arguments).then(g=>o(this,g))}};e.RTCPeerConnection.prototype[c]=u[c]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=a(this,arguments[0]),l.apply(this,arguments))};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const c=s.get.apply(this);return c.type===""?c:o(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!f._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(f._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let p;Object.keys(this._streams).forEach(m=>{this._streams[m].getTracks().find(_=>f.track===_)&&(p=this._streams[m])}),p&&(p.getTracks().length===1?this.removeStream(this._reverseStreams[p.id]):p.removeTrack(f.track),this.dispatchEvent(new Event("negotiationneeded")))}}function In(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const n=e.RTCPeerConnection.prototype[r],i={[r](){return arguments[0]=new(r==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[r]=i[r]})}function Ys(e,t){Ht(e,"negotiationneeded",r=>{const n=r.target;if(!((t.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return r})}const co=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Ys,shimAddTrackRemoveTrack:qs,shimAddTrackRemoveTrackWithNative:Ws,shimGetDisplayMedia:Sf,shimGetSendersWithDtmf:Ks,shimGetStats:Vs,shimGetUserMedia:zs,shimMediaStream:Gs,shimOnTrack:Hs,shimPeerConnection:In,shimSenderReceiverGetStats:Js},Symbol.toStringTag,{value:"Module"}));function Tf(e,t){let r=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(n=>{if(n&&(n.urls||n.url)){let i=n.urls||n.url;n.url&&!n.urls&&rn("RTCIceServer.url","RTCIceServer.urls");const o=typeof i=="string";return o&&(i=[i]),i=i.filter(a=>{if(a.indexOf("stun:")===0)return!1;const l=a.startsWith("turn")&&!a.startsWith("turn:[")&&a.includes("transport=udp");return l&&!r?(r=!0,!0):l&&!r}),delete n.url,n.urls=o?i[0]:i,!!i.length}})}var Qs={exports:{}};(function(e){var t={};t.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},t.localCName=t.generateIdentifier(),t.splitLines=function(r){return r.trim().split(`
`).map(function(n){return n.trim()})},t.splitSections=function(r){var n=r.split(`
m=`);return n.map(function(i,o){return(o>0?"m="+i:i).trim()+`\r
`})},t.getDescription=function(r){var n=t.splitSections(r);return n&&n[0]},t.getMediaSections=function(r){var n=t.splitSections(r);return n.shift(),n},t.matchPrefix=function(r,n){return t.splitLines(r).filter(function(i){return i.indexOf(n)===0})},t.parseCandidate=function(r){var n;r.indexOf("a=candidate:")===0?n=r.substring(12).split(" "):n=r.substring(10).split(" ");for(var i={foundation:n[0],component:parseInt(n[1],10),protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]},o=8;o<n.length;o+=2)switch(n[o]){case"raddr":i.relatedAddress=n[o+1];break;case"rport":i.relatedPort=parseInt(n[o+1],10);break;case"tcptype":i.tcpType=n[o+1];break;case"ufrag":i.ufrag=n[o+1],i.usernameFragment=n[o+1];break;default:i[n[o]]=n[o+1];break}return i},t.writeCandidate=function(r){var n=[];n.push(r.foundation),n.push(r.component),n.push(r.protocol.toUpperCase()),n.push(r.priority),n.push(r.address||r.ip),n.push(r.port);var i=r.type;return n.push("typ"),n.push(i),i!=="host"&&r.relatedAddress&&r.relatedPort&&(n.push("raddr"),n.push(r.relatedAddress),n.push("rport"),n.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(n.push("ufrag"),n.push(r.usernameFragment||r.ufrag)),"candidate:"+n.join(" ")},t.parseIceOptions=function(r){return r.substr(14).split(" ")},t.parseRtpMap=function(r){var n=r.substr(9).split(" "),i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(r){var n=r.payloadType;r.preferredPayloadType!==void 0&&(n=r.preferredPayloadType);var i=r.channels||r.numChannels||1;return"a=rtpmap:"+n+" "+r.name+"/"+r.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(r){var n=r.substr(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1]}},t.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+`\r
`},t.parseFmtp=function(r){for(var n={},i,o=r.substr(r.indexOf(" ")+1).split(";"),a=0;a<o.length;a++)i=o[a].trim().split("="),n[i[0].trim()]=i[1];return n},t.writeFmtp=function(r){var n="",i=r.payloadType;if(r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){var o=[];Object.keys(r.parameters).forEach(function(a){r.parameters[a]?o.push(a+"="+r.parameters[a]):o.push(a)}),n+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return n},t.parseRtcpFb=function(r){var n=r.substr(r.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},t.writeRtcpFb=function(r){var n="",i=r.payloadType;return r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(function(o){n+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),n},t.parseSsrcMedia=function(r){var n=r.indexOf(" "),i={ssrc:parseInt(r.substr(7,n-7),10)},o=r.indexOf(":",n);return o>-1?(i.attribute=r.substr(n+1,o-n-1),i.value=r.substr(o+1)):i.attribute=r.substr(n+1),i},t.parseSsrcGroup=function(r){var n=r.substr(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(function(i){return parseInt(i,10)})}},t.getMid=function(r){var n=t.matchPrefix(r,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(r){var n=r.substr(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1]}},t.getDtlsParameters=function(r,n){var i=t.matchPrefix(r+n,"a=fingerprint:");return{role:"auto",fingerprints:i.map(t.parseFingerprint)}},t.writeDtlsParameters=function(r,n){var i="a=setup:"+n+`\r
`;return r.fingerprints.forEach(function(o){i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},t.parseCryptoLine=function(r){var n=r.substr(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},t.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?t.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;var n=r.substr(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},t.getCryptoParameters=function(r,n){var i=t.matchPrefix(r+n,"a=crypto:");return i.map(t.parseCryptoLine)},t.getIceParameters=function(r,n){var i=t.matchPrefix(r+n,"a=ice-ufrag:")[0],o=t.matchPrefix(r+n,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substr(12),password:o.substr(10)}:null},t.writeIceParameters=function(r){return"a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`},t.parseRtpParameters=function(r){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(r),o=i[0].split(" "),a=3;a<o.length;a++){var l=o[a],s=t.matchPrefix(r,"a=rtpmap:"+l+" ")[0];if(s){var c=t.parseRtpMap(s),f=t.matchPrefix(r,"a=fmtp:"+l+" ");switch(c.parameters=f.length?t.parseFmtp(f[0]):{},c.rtcpFeedback=t.matchPrefix(r,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),n.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(c.name.toUpperCase());break}}}return t.matchPrefix(r,"a=extmap:").forEach(function(u){n.headerExtensions.push(t.parseExtmap(u))}),n},t.writeRtpDescription=function(r,n){var i="";i+="m="+r+" ",i+=n.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=n.codecs.map(function(a){return a.preferredPayloadType!==void 0?a.preferredPayloadType:a.payloadType}).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(function(a){i+=t.writeRtpMap(a),i+=t.writeFmtp(a),i+=t.writeRtcpFb(a)});var o=0;return n.codecs.forEach(function(a){a.maxptime>o&&(o=a.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),i+=`a=rtcp-mux\r
`,n.headerExtensions&&n.headerExtensions.forEach(function(a){i+=t.writeExtmap(a)}),i},t.parseRtpEncodingParameters=function(r){var n=[],i=t.parseRtpParameters(r),o=i.fecMechanisms.indexOf("RED")!==-1,a=i.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(r,"a=ssrc:").map(function(p){return t.parseSsrcMedia(p)}).filter(function(p){return p.attribute==="cname"}),s=l.length>0&&l[0].ssrc,c,f=t.matchPrefix(r,"a=ssrc-group:FID").map(function(p){var m=p.substr(17).split(" ");return m.map(function(g){return parseInt(g,10)})});f.length>0&&f[0].length>1&&f[0][0]===s&&(c=f[0][1]),i.codecs.forEach(function(p){if(p.name.toUpperCase()==="RTX"&&p.parameters.apt){var m={ssrc:s,codecPayloadType:parseInt(p.parameters.apt,10)};s&&c&&(m.rtx={ssrc:c}),n.push(m),o&&(m=JSON.parse(JSON.stringify(m)),m.fec={ssrc:s,mechanism:a?"red+ulpfec":"red"},n.push(m))}}),n.length===0&&s&&n.push({ssrc:s});var u=t.matchPrefix(r,"b=");return u.length&&(u[0].indexOf("b=TIAS:")===0?u=parseInt(u[0].substr(7),10):u[0].indexOf("b=AS:")===0?u=parseInt(u[0].substr(5),10)*1e3*.95-50*40*8:u=void 0,n.forEach(function(p){p.maxBitrate=u})),n},t.parseRtcpParameters=function(r){var n={},i=t.matchPrefix(r,"a=ssrc:").map(function(l){return t.parseSsrcMedia(l)}).filter(function(l){return l.attribute==="cname"})[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);var o=t.matchPrefix(r,"a=rtcp-rsize");n.reducedSize=o.length>0,n.compound=o.length===0;var a=t.matchPrefix(r,"a=rtcp-mux");return n.mux=a.length>0,n},t.parseMsid=function(r){var n,i=t.matchPrefix(r,"a=msid:");if(i.length===1)return n=i[0].substr(7).split(" "),{stream:n[0],track:n[1]};var o=t.matchPrefix(r,"a=ssrc:").map(function(a){return t.parseSsrcMedia(a)}).filter(function(a){return a.attribute==="msid"});if(o.length>0)return n=o[0].value.split(" "),{stream:n[0],track:n[1]}},t.parseSctpDescription=function(r){var n=t.parseMLine(r),i=t.matchPrefix(r,"a=max-message-size:"),o;i.length>0&&(o=parseInt(i[0].substr(19),10)),isNaN(o)&&(o=65536);var a=t.matchPrefix(r,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substr(12),10),protocol:n.fmt,maxMessageSize:o};var l=t.matchPrefix(r,"a=sctpmap:");if(l.length>0){var s=t.matchPrefix(r,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:o}}},t.writeSctpDescription=function(r,n){var i=[];return r.protocol!=="DTLS/SCTP"?i=["m="+r.kind+" 9 "+r.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+r.kind+" 9 "+r.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(r,n,i){var o,a=n!==void 0?n:2;r?o=r:o=t.generateSessionId();var l=i||"thisisadapterortc";return`v=0\r
o=`+l+" "+o+" "+a+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.writeMediaSection=function(r,n,i,o){var a=t.writeRtpDescription(r.kind,n);if(a+=t.writeIceParameters(r.iceGatherer.getLocalParameters()),a+=t.writeDtlsParameters(r.dtlsTransport.getLocalParameters(),i==="offer"?"actpass":"active"),a+="a=mid:"+r.mid+`\r
`,r.direction?a+="a="+r.direction+`\r
`:r.rtpSender&&r.rtpReceiver?a+=`a=sendrecv\r
`:r.rtpSender?a+=`a=sendonly\r
`:r.rtpReceiver?a+=`a=recvonly\r
`:a+=`a=inactive\r
`,r.rtpSender){var l="msid:"+o.id+" "+r.rtpSender.track.id+`\r
`;a+="a="+l,a+="a=ssrc:"+r.sendEncodingParameters[0].ssrc+" "+l,r.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+r.sendEncodingParameters[0].rtx.ssrc+" "+l,a+="a=ssrc-group:FID "+r.sendEncodingParameters[0].ssrc+" "+r.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return a+="a=ssrc:"+r.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+`\r
`,r.rtpSender&&r.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+r.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+`\r
`),a},t.getDirection=function(r,n){for(var i=t.splitLines(r),o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(r){var n=t.splitLines(r),i=n[0].split(" ");return i[0].substr(2)},t.isRejected=function(r){return r.split(" ",2)[1]==="0"},t.parseMLine=function(r){var n=t.splitLines(r),i=n[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(r){var n=t.matchPrefix(r,"o=")[0],i=n.substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;for(var n=t.splitLines(r),i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(Qs);var Xs=Qs.exports;const Ir=ui(Xs);var w=Xs;function Ef(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function lo(e,t,r,n,i){var o=w.writeRtpDescription(e.kind,t);if(o+=w.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=w.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),r==="offer"?"actpass":i||"active"),o+="a=mid:"+e.mid+`\r
`,e.rtpSender&&e.rtpReceiver?o+=`a=sendrecv\r
`:e.rtpSender?o+=`a=sendonly\r
`:e.rtpReceiver?o+=`a=recvonly\r
`:o+=`a=inactive\r
`,e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var l="msid:"+(n?n.id:"-")+" "+a+`\r
`;o+="a="+l,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+l,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+l,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+w.localCName+`\r
`,e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+w.localCName+`\r
`),o}function Pf(e,t){var r=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(n){if(n&&(n.urls||n.url)){var i=n.urls||n.url;n.url&&!n.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o=typeof i=="string";return o&&(i=[i]),i=i.filter(function(a){var l=a.indexOf("turn:")===0&&a.indexOf("transport=udp")!==-1&&a.indexOf("turn:[")===-1&&!r;return l?(r=!0,!0):a.indexOf("stun:")===0&&t>=14393&&a.indexOf("?transport=udp")===-1}),delete n.url,n.urls=o?i[0]:i,!!i.length}})}function Tr(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(o,a){o=parseInt(o,10);for(var l=0;l<a.length;l++)if(a[l].payloadType===o||a[l].preferredPayloadType===o)return a[l]},i=function(o,a,l,s){var c=n(o.parameters.apt,l),f=n(a.parameters.apt,s);return c&&f&&c.name.toLowerCase()===f.name.toLowerCase()};return e.codecs.forEach(function(o){for(var a=0;a<t.codecs.length;a++){var l=t.codecs[a];if(o.name.toLowerCase()===l.name.toLowerCase()&&o.clockRate===l.clockRate){if(o.name.toLowerCase()==="rtx"&&o.parameters&&l.parameters.apt&&!i(o,l,e.codecs,t.codecs))continue;l=JSON.parse(JSON.stringify(l)),l.numChannels=Math.min(o.numChannels,l.numChannels),r.codecs.push(l),l.rtcpFeedback=l.rtcpFeedback.filter(function(s){for(var c=0;c<o.rtcpFeedback.length;c++)if(o.rtcpFeedback[c].type===s.type&&o.rtcpFeedback[c].parameter===s.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(o){for(var a=0;a<t.headerExtensions.length;a++){var l=t.headerExtensions[a];if(o.uri===l.uri){r.headerExtensions.push(l);break}}}),r}function fo(e,t,r){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)!==-1}function un(e,t){var r=e.getRemoteCandidates().find(function(n){return t.foundation===n.foundation&&t.ip===n.ip&&t.port===n.port&&t.priority===n.priority&&t.protocol===n.protocol&&t.type===n.type});return r||e.addRemoteCandidate(t),!r}function ye(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}var Rf=function(e,t){function r(s,c){c.addTrack(s),c.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:s}))}function n(s,c){c.removeTrack(s),c.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:s}))}function i(s,c,f,u){var p=new Event("track");p.track=c,p.receiver=f,p.transceiver={receiver:f},p.streams=u,e.setTimeout(function(){s._dispatchEvent("track",p)})}var o=function(s){var c=this,f=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(p){c[p]=f[p].bind(f)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",s=JSON.parse(JSON.stringify(s||{})),this.usingBundle=s.bundlePolicy==="max-bundle",s.rtcpMuxPolicy==="negotiate")throw ye("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(s.rtcpMuxPolicy||(s.rtcpMuxPolicy="require"),s.iceTransportPolicy){case"all":case"relay":break;default:s.iceTransportPolicy="all";break}switch(s.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:s.bundlePolicy="balanced";break}if(s.iceServers=Pf(s.iceServers||[],t),this._iceGatherers=[],s.iceCandidatePoolSize)for(var u=s.iceCandidatePoolSize;u>0;u--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:s.iceServers,gatherPolicy:s.iceTransportPolicy}));else s.iceCandidatePoolSize=0;this._config=s,this.transceivers=[],this._sdpSessionId=w.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(o.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(o.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),o.prototype.onicecandidate=null,o.prototype.onaddstream=null,o.prototype.ontrack=null,o.prototype.onremovestream=null,o.prototype.onsignalingstatechange=null,o.prototype.oniceconnectionstatechange=null,o.prototype.onconnectionstatechange=null,o.prototype.onicegatheringstatechange=null,o.prototype.onnegotiationneeded=null,o.prototype.ondatachannel=null,o.prototype._dispatchEvent=function(s,c){this._isClosed||(this.dispatchEvent(c),typeof this["on"+s]=="function"&&this["on"+s](c))},o.prototype._emitGatheringStateChange=function(){var s=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",s)},o.prototype.getConfiguration=function(){return this._config},o.prototype.getLocalStreams=function(){return this.localStreams},o.prototype.getRemoteStreams=function(){return this.remoteStreams},o.prototype._createTransceiver=function(s,c){var f=this.transceivers.length>0,u={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:s,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&f)u.iceTransport=this.transceivers[0].iceTransport,u.dtlsTransport=this.transceivers[0].dtlsTransport;else{var p=this._createIceAndDtlsTransports();u.iceTransport=p.iceTransport,u.dtlsTransport=p.dtlsTransport}return c||this.transceivers.push(u),u},o.prototype.addTrack=function(s,c){if(this._isClosed)throw ye("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var f=this.transceivers.find(function(m){return m.track===s});if(f)throw ye("InvalidAccessError","Track already exists.");for(var u,p=0;p<this.transceivers.length;p++)!this.transceivers[p].track&&this.transceivers[p].kind===s.kind&&(u=this.transceivers[p]);return u||(u=this._createTransceiver(s.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(c)===-1&&this.localStreams.push(c),u.track=s,u.stream=c,u.rtpSender=new e.RTCRtpSender(s,u.dtlsTransport),u.rtpSender},o.prototype.addStream=function(s){var c=this;if(t>=15025)s.getTracks().forEach(function(u){c.addTrack(u,s)});else{var f=s.clone();s.getTracks().forEach(function(u,p){var m=f.getTracks()[p];u.addEventListener("enabled",function(g){m.enabled=g.enabled})}),f.getTracks().forEach(function(u){c.addTrack(u,f)})}},o.prototype.removeTrack=function(s){if(this._isClosed)throw ye("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(s instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var c=this.transceivers.find(function(p){return p.rtpSender===s});if(!c)throw ye("InvalidAccessError","Sender was not created by this connection.");var f=c.stream;c.rtpSender.stop(),c.rtpSender=null,c.track=null,c.stream=null;var u=this.transceivers.map(function(p){return p.stream});u.indexOf(f)===-1&&this.localStreams.indexOf(f)>-1&&this.localStreams.splice(this.localStreams.indexOf(f),1),this._maybeFireNegotiationNeeded()},o.prototype.removeStream=function(s){var c=this;s.getTracks().forEach(function(f){var u=c.getSenders().find(function(p){return p.track===f});u&&c.removeTrack(u)})},o.prototype.getSenders=function(){return this.transceivers.filter(function(s){return!!s.rtpSender}).map(function(s){return s.rtpSender})},o.prototype.getReceivers=function(){return this.transceivers.filter(function(s){return!!s.rtpReceiver}).map(function(s){return s.rtpReceiver})},o.prototype._createIceGatherer=function(s,c){var f=this;if(c&&s>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var u=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(u,"state",{value:"new",writable:!0}),this.transceivers[s].bufferedCandidateEvents=[],this.transceivers[s].bufferCandidates=function(p){var m=!p.candidate||Object.keys(p.candidate).length===0;u.state=m?"completed":"gathering",f.transceivers[s].bufferedCandidateEvents!==null&&f.transceivers[s].bufferedCandidateEvents.push(p)},u.addEventListener("localcandidate",this.transceivers[s].bufferCandidates),u},o.prototype._gather=function(s,c){var f=this,u=this.transceivers[c].iceGatherer;if(!u.onlocalcandidate){var p=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null,u.removeEventListener("localcandidate",this.transceivers[c].bufferCandidates),u.onlocalcandidate=function(m){if(!(f.usingBundle&&c>0)){var g=new Event("icecandidate");g.candidate={sdpMid:s,sdpMLineIndex:c};var _=m.candidate,I=!_||Object.keys(_).length===0;if(I)(u.state==="new"||u.state==="gathering")&&(u.state="completed");else{u.state==="new"&&(u.state="gathering"),_.component=1,_.ufrag=u.getLocalParameters().usernameFragment;var S=w.writeCandidate(_);g.candidate=Object.assign(g.candidate,w.parseCandidate(S)),g.candidate.candidate=S,g.candidate.toJSON=function(){return{candidate:g.candidate.candidate,sdpMid:g.candidate.sdpMid,sdpMLineIndex:g.candidate.sdpMLineIndex,usernameFragment:g.candidate.usernameFragment}}}var E=w.getMediaSections(f._localDescription.sdp);I?E[g.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:E[g.candidate.sdpMLineIndex]+="a="+g.candidate.candidate+`\r
`,f._localDescription.sdp=w.getDescription(f._localDescription.sdp)+E.join("");var N=f.transceivers.every(function(O){return O.iceGatherer&&O.iceGatherer.state==="completed"});f.iceGatheringState!=="gathering"&&(f.iceGatheringState="gathering",f._emitGatheringStateChange()),I||f._dispatchEvent("icecandidate",g),N&&(f._dispatchEvent("icecandidate",new Event("icecandidate")),f.iceGatheringState="complete",f._emitGatheringStateChange())}},e.setTimeout(function(){p.forEach(function(m){u.onlocalcandidate(m)})},0)}},o.prototype._createIceAndDtlsTransports=function(){var s=this,c=new e.RTCIceTransport(null);c.onicestatechange=function(){s._updateIceConnectionState(),s._updateConnectionState()};var f=new e.RTCDtlsTransport(c);return f.ondtlsstatechange=function(){s._updateConnectionState()},f.onerror=function(){Object.defineProperty(f,"state",{value:"failed",writable:!0}),s._updateConnectionState()},{iceTransport:c,dtlsTransport:f}},o.prototype._disposeIceAndDtlsTransports=function(s){var c=this.transceivers[s].iceGatherer;c&&(delete c.onlocalcandidate,delete this.transceivers[s].iceGatherer);var f=this.transceivers[s].iceTransport;f&&(delete f.onicestatechange,delete this.transceivers[s].iceTransport);var u=this.transceivers[s].dtlsTransport;u&&(delete u.ondtlsstatechange,delete u.onerror,delete this.transceivers[s].dtlsTransport)},o.prototype._transceive=function(s,c,f){var u=Tr(s.localCapabilities,s.remoteCapabilities);c&&s.rtpSender&&(u.encodings=s.sendEncodingParameters,u.rtcp={cname:w.localCName,compound:s.rtcpParameters.compound},s.recvEncodingParameters.length&&(u.rtcp.ssrc=s.recvEncodingParameters[0].ssrc),s.rtpSender.send(u)),f&&s.rtpReceiver&&u.codecs.length>0&&(s.kind==="video"&&s.recvEncodingParameters&&t<15019&&s.recvEncodingParameters.forEach(function(p){delete p.rtx}),s.recvEncodingParameters.length?u.encodings=s.recvEncodingParameters:u.encodings=[{}],u.rtcp={compound:s.rtcpParameters.compound},s.rtcpParameters.cname&&(u.rtcp.cname=s.rtcpParameters.cname),s.sendEncodingParameters.length&&(u.rtcp.ssrc=s.sendEncodingParameters[0].ssrc),s.rtpReceiver.receive(u))},o.prototype.setLocalDescription=function(s){var c=this;if(["offer","answer"].indexOf(s.type)===-1)return Promise.reject(ye("TypeError",'Unsupported type "'+s.type+'"'));if(!fo("setLocalDescription",s.type,c.signalingState)||c._isClosed)return Promise.reject(ye("InvalidStateError","Can not set local "+s.type+" in state "+c.signalingState));var f,u;if(s.type==="offer")f=w.splitSections(s.sdp),u=f.shift(),f.forEach(function(m,g){var _=w.parseRtpParameters(m);c.transceivers[g].localCapabilities=_}),c.transceivers.forEach(function(m,g){c._gather(m.mid,g)});else if(s.type==="answer"){f=w.splitSections(c._remoteDescription.sdp),u=f.shift();var p=w.matchPrefix(u,"a=ice-lite").length>0;f.forEach(function(m,g){var _=c.transceivers[g],I=_.iceGatherer,S=_.iceTransport,E=_.dtlsTransport,N=_.localCapabilities,O=_.remoteCapabilities,K=w.isRejected(m)&&w.matchPrefix(m,"a=bundle-only").length===0;if(!K&&!_.rejected){var X=w.getIceParameters(m,u),ne=w.getDtlsParameters(m,u);p&&(ne.role="server"),(!c.usingBundle||g===0)&&(c._gather(_.mid,g),S.state==="new"&&S.start(I,X,p?"controlling":"controlled"),E.state==="new"&&E.start(ne));var te=Tr(N,O);c._transceive(_,te.codecs.length>0,!1)}})}return c._localDescription={type:s.type,sdp:s.sdp},s.type==="offer"?c._updateSignalingState("have-local-offer"):c._updateSignalingState("stable"),Promise.resolve()},o.prototype.setRemoteDescription=function(s){var c=this;if(["offer","answer"].indexOf(s.type)===-1)return Promise.reject(ye("TypeError",'Unsupported type "'+s.type+'"'));if(!fo("setRemoteDescription",s.type,c.signalingState)||c._isClosed)return Promise.reject(ye("InvalidStateError","Can not set remote "+s.type+" in state "+c.signalingState));var f={};c.remoteStreams.forEach(function(S){f[S.id]=S});var u=[],p=w.splitSections(s.sdp),m=p.shift(),g=w.matchPrefix(m,"a=ice-lite").length>0,_=w.matchPrefix(m,"a=group:BUNDLE ").length>0;c.usingBundle=_;var I=w.matchPrefix(m,"a=ice-options:")[0];return I?c.canTrickleIceCandidates=I.substr(14).split(" ").indexOf("trickle")>=0:c.canTrickleIceCandidates=!1,p.forEach(function(S,E){var N=w.splitLines(S),O=w.getKind(S),K=w.isRejected(S)&&w.matchPrefix(S,"a=bundle-only").length===0,X=N[0].substr(2).split(" ")[2],ne=w.getDirection(S,m),te=w.parseMsid(S),tt=w.getMid(S)||w.generateIdentifier();if(K||O==="application"&&(X==="DTLS/SCTP"||X==="UDP/DTLS/SCTP")){c.transceivers[E]={mid:tt,kind:O,protocol:X,rejected:!0};return}!K&&c.transceivers[E]&&c.transceivers[E].rejected&&(c.transceivers[E]=c._createTransceiver(O,!0));var $,Fe,Me,Ee,Ce,Je,se,J,G,Ae=w.parseRtpParameters(S),Le,Pe;K||(Le=w.getIceParameters(S,m),Pe=w.getDtlsParameters(S,m),Pe.role="client"),se=w.parseRtpEncodingParameters(S);var pe=w.parseRtcpParameters(S),rt=w.matchPrefix(S,"a=end-of-candidates",m).length>0,De=w.matchPrefix(S,"a=candidate:").map(function(R){return w.parseCandidate(R)}).filter(function(R){return R.component===1});if((s.type==="offer"||s.type==="answer")&&!K&&_&&E>0&&c.transceivers[E]&&(c._disposeIceAndDtlsTransports(E),c.transceivers[E].iceGatherer=c.transceivers[0].iceGatherer,c.transceivers[E].iceTransport=c.transceivers[0].iceTransport,c.transceivers[E].dtlsTransport=c.transceivers[0].dtlsTransport,c.transceivers[E].rtpSender&&c.transceivers[E].rtpSender.setTransport(c.transceivers[0].dtlsTransport),c.transceivers[E].rtpReceiver&&c.transceivers[E].rtpReceiver.setTransport(c.transceivers[0].dtlsTransport)),s.type==="offer"&&!K){$=c.transceivers[E]||c._createTransceiver(O),$.mid=tt,$.iceGatherer||($.iceGatherer=c._createIceGatherer(E,_)),De.length&&$.iceTransport.state==="new"&&(rt&&(!_||E===0)?$.iceTransport.setRemoteCandidates(De):De.forEach(function(R){un($.iceTransport,R)})),J=e.RTCRtpReceiver.getCapabilities(O),t<15019&&(J.codecs=J.codecs.filter(function(R){return R.name!=="rtx"})),Je=$.sendEncodingParameters||[{ssrc:(2*E+2)*1001}];var ft=!1;if(ne==="sendrecv"||ne==="sendonly"){if(ft=!$.rtpReceiver,Ce=$.rtpReceiver||new e.RTCRtpReceiver($.dtlsTransport,O),ft){var oe;G=Ce.track,te&&te.stream==="-"||(te?(f[te.stream]||(f[te.stream]=new e.MediaStream,Object.defineProperty(f[te.stream],"id",{get:function(){return te.stream}})),Object.defineProperty(G,"id",{get:function(){return te.track}}),oe=f[te.stream]):(f.default||(f.default=new e.MediaStream),oe=f.default)),oe&&(r(G,oe),$.associatedRemoteMediaStreams.push(oe)),u.push([G,Ce,oe])}}else $.rtpReceiver&&$.rtpReceiver.track&&($.associatedRemoteMediaStreams.forEach(function(R){var B=R.getTracks().find(function(q){return q.id===$.rtpReceiver.track.id});B&&n(B,R)}),$.associatedRemoteMediaStreams=[]);$.localCapabilities=J,$.remoteCapabilities=Ae,$.rtpReceiver=Ce,$.rtcpParameters=pe,$.sendEncodingParameters=Je,$.recvEncodingParameters=se,c._transceive(c.transceivers[E],!1,ft)}else if(s.type==="answer"&&!K){$=c.transceivers[E],Fe=$.iceGatherer,Me=$.iceTransport,Ee=$.dtlsTransport,Ce=$.rtpReceiver,Je=$.sendEncodingParameters,J=$.localCapabilities,c.transceivers[E].recvEncodingParameters=se,c.transceivers[E].remoteCapabilities=Ae,c.transceivers[E].rtcpParameters=pe,De.length&&Me.state==="new"&&((g||rt)&&(!_||E===0)?Me.setRemoteCandidates(De):De.forEach(function(R){un($.iceTransport,R)})),(!_||E===0)&&(Me.state==="new"&&Me.start(Fe,Le,"controlling"),Ee.state==="new"&&Ee.start(Pe));var b=Tr($.localCapabilities,$.remoteCapabilities),D=b.codecs.filter(function(R){return R.name.toLowerCase()==="rtx"}).length;!D&&$.sendEncodingParameters[0].rtx&&delete $.sendEncodingParameters[0].rtx,c._transceive($,ne==="sendrecv"||ne==="recvonly",ne==="sendrecv"||ne==="sendonly"),Ce&&(ne==="sendrecv"||ne==="sendonly")?(G=Ce.track,te?(f[te.stream]||(f[te.stream]=new e.MediaStream),r(G,f[te.stream]),u.push([G,Ce,f[te.stream]])):(f.default||(f.default=new e.MediaStream),r(G,f.default),u.push([G,Ce,f.default]))):delete $.rtpReceiver}}),c._dtlsRole===void 0&&(c._dtlsRole=s.type==="offer"?"active":"passive"),c._remoteDescription={type:s.type,sdp:s.sdp},s.type==="offer"?c._updateSignalingState("have-remote-offer"):c._updateSignalingState("stable"),Object.keys(f).forEach(function(S){var E=f[S];if(E.getTracks().length){if(c.remoteStreams.indexOf(E)===-1){c.remoteStreams.push(E);var N=new Event("addstream");N.stream=E,e.setTimeout(function(){c._dispatchEvent("addstream",N)})}u.forEach(function(O){var K=O[0],X=O[1];E.id===O[2].id&&i(c,K,X,[E])})}}),u.forEach(function(S){S[2]||i(c,S[0],S[1],[])}),e.setTimeout(function(){c&&c.transceivers&&c.transceivers.forEach(function(S){S.iceTransport&&S.iceTransport.state==="new"&&S.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),S.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},o.prototype.close=function(){this.transceivers.forEach(function(s){s.iceTransport&&s.iceTransport.stop(),s.dtlsTransport&&s.dtlsTransport.stop(),s.rtpSender&&s.rtpSender.stop(),s.rtpReceiver&&s.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},o.prototype._updateSignalingState=function(s){this.signalingState=s;var c=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",c)},o.prototype._maybeFireNegotiationNeeded=function(){var s=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,e.setTimeout(function(){if(s.needNegotiation){s.needNegotiation=!1;var c=new Event("negotiationneeded");s._dispatchEvent("negotiationneeded",c)}},0))},o.prototype._updateIceConnectionState=function(){var s,c={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(u){u.iceTransport&&!u.rejected&&c[u.iceTransport.state]++}),s="new",c.failed>0?s="failed":c.checking>0?s="checking":c.disconnected>0?s="disconnected":c.new>0?s="new":c.connected>0?s="connected":c.completed>0&&(s="completed"),s!==this.iceConnectionState){this.iceConnectionState=s;var f=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",f)}},o.prototype._updateConnectionState=function(){var s,c={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(u){u.iceTransport&&u.dtlsTransport&&!u.rejected&&(c[u.iceTransport.state]++,c[u.dtlsTransport.state]++)}),c.connected+=c.completed,s="new",c.failed>0?s="failed":c.connecting>0?s="connecting":c.disconnected>0?s="disconnected":c.new>0?s="new":c.connected>0&&(s="connected"),s!==this.connectionState){this.connectionState=s;var f=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",f)}},o.prototype.createOffer=function(){var s=this;if(s._isClosed)return Promise.reject(ye("InvalidStateError","Can not call createOffer after close"));var c=s.transceivers.filter(function(g){return g.kind==="audio"}).length,f=s.transceivers.filter(function(g){return g.kind==="video"}).length,u=arguments[0];if(u){if(u.mandatory||u.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");u.offerToReceiveAudio!==void 0&&(u.offerToReceiveAudio===!0?c=1:u.offerToReceiveAudio===!1?c=0:c=u.offerToReceiveAudio),u.offerToReceiveVideo!==void 0&&(u.offerToReceiveVideo===!0?f=1:u.offerToReceiveVideo===!1?f=0:f=u.offerToReceiveVideo)}for(s.transceivers.forEach(function(g){g.kind==="audio"?(c--,c<0&&(g.wantReceive=!1)):g.kind==="video"&&(f--,f<0&&(g.wantReceive=!1))});c>0||f>0;)c>0&&(s._createTransceiver("audio"),c--),f>0&&(s._createTransceiver("video"),f--);var p=w.writeSessionBoilerplate(s._sdpSessionId,s._sdpSessionVersion++);s.transceivers.forEach(function(g,_){var I=g.track,S=g.kind,E=g.mid||w.generateIdentifier();g.mid=E,g.iceGatherer||(g.iceGatherer=s._createIceGatherer(_,s.usingBundle));var N=e.RTCRtpSender.getCapabilities(S);t<15019&&(N.codecs=N.codecs.filter(function(K){return K.name!=="rtx"})),N.codecs.forEach(function(K){K.name==="H264"&&K.parameters["level-asymmetry-allowed"]===void 0&&(K.parameters["level-asymmetry-allowed"]="1"),g.remoteCapabilities&&g.remoteCapabilities.codecs&&g.remoteCapabilities.codecs.forEach(function(X){K.name.toLowerCase()===X.name.toLowerCase()&&K.clockRate===X.clockRate&&(K.preferredPayloadType=X.payloadType)})}),N.headerExtensions.forEach(function(K){var X=g.remoteCapabilities&&g.remoteCapabilities.headerExtensions||[];X.forEach(function(ne){K.uri===ne.uri&&(K.id=ne.id)})});var O=g.sendEncodingParameters||[{ssrc:(2*_+1)*1001}];I&&t>=15019&&S==="video"&&!O[0].rtx&&(O[0].rtx={ssrc:O[0].ssrc+1}),g.wantReceive&&(g.rtpReceiver=new e.RTCRtpReceiver(g.dtlsTransport,S)),g.localCapabilities=N,g.sendEncodingParameters=O}),s._config.bundlePolicy!=="max-compat"&&(p+="a=group:BUNDLE "+s.transceivers.map(function(g){return g.mid}).join(" ")+`\r
`),p+=`a=ice-options:trickle\r
`,s.transceivers.forEach(function(g,_){p+=lo(g,g.localCapabilities,"offer",g.stream,s._dtlsRole),p+=`a=rtcp-rsize\r
`,g.iceGatherer&&s.iceGatheringState!=="new"&&(_===0||!s.usingBundle)&&(g.iceGatherer.getLocalCandidates().forEach(function(I){I.component=1,p+="a="+w.writeCandidate(I)+`\r
`}),g.iceGatherer.state==="completed"&&(p+=`a=end-of-candidates\r
`))});var m=new e.RTCSessionDescription({type:"offer",sdp:p});return Promise.resolve(m)},o.prototype.createAnswer=function(){var s=this;if(s._isClosed)return Promise.reject(ye("InvalidStateError","Can not call createAnswer after close"));if(!(s.signalingState==="have-remote-offer"||s.signalingState==="have-local-pranswer"))return Promise.reject(ye("InvalidStateError","Can not call createAnswer in signalingState "+s.signalingState));var c=w.writeSessionBoilerplate(s._sdpSessionId,s._sdpSessionVersion++);s.usingBundle&&(c+="a=group:BUNDLE "+s.transceivers.map(function(p){return p.mid}).join(" ")+`\r
`),c+=`a=ice-options:trickle\r
`;var f=w.getMediaSections(s._remoteDescription.sdp).length;s.transceivers.forEach(function(p,m){if(!(m+1>f)){if(p.rejected){p.kind==="application"?p.protocol==="DTLS/SCTP"?c+=`m=application 0 DTLS/SCTP 5000\r
`:c+="m=application 0 "+p.protocol+` webrtc-datachannel\r
`:p.kind==="audio"?c+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:p.kind==="video"&&(c+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),c+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+p.mid+`\r
`;return}if(p.stream){var g;p.kind==="audio"?g=p.stream.getAudioTracks()[0]:p.kind==="video"&&(g=p.stream.getVideoTracks()[0]),g&&t>=15019&&p.kind==="video"&&!p.sendEncodingParameters[0].rtx&&(p.sendEncodingParameters[0].rtx={ssrc:p.sendEncodingParameters[0].ssrc+1})}var _=Tr(p.localCapabilities,p.remoteCapabilities),I=_.codecs.filter(function(S){return S.name.toLowerCase()==="rtx"}).length;!I&&p.sendEncodingParameters[0].rtx&&delete p.sendEncodingParameters[0].rtx,c+=lo(p,_,"answer",p.stream,s._dtlsRole),p.rtcpParameters&&p.rtcpParameters.reducedSize&&(c+=`a=rtcp-rsize\r
`)}});var u=new e.RTCSessionDescription({type:"answer",sdp:c});return Promise.resolve(u)},o.prototype.addIceCandidate=function(s){var c=this,f;return s&&!(s.sdpMLineIndex!==void 0||s.sdpMid)?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(u,p){if(c._remoteDescription)if(!s||s.candidate==="")for(var m=0;m<c.transceivers.length&&!(!c.transceivers[m].rejected&&(c.transceivers[m].iceTransport.addRemoteCandidate({}),f=w.getMediaSections(c._remoteDescription.sdp),f[m]+=`a=end-of-candidates\r
`,c._remoteDescription.sdp=w.getDescription(c._remoteDescription.sdp)+f.join(""),c.usingBundle));m++);else{var g=s.sdpMLineIndex;if(s.sdpMid){for(var _=0;_<c.transceivers.length;_++)if(c.transceivers[_].mid===s.sdpMid){g=_;break}}var I=c.transceivers[g];if(I){if(I.rejected)return u();var S=Object.keys(s.candidate).length>0?w.parseCandidate(s.candidate):{};if(S.protocol==="tcp"&&(S.port===0||S.port===9)||S.component&&S.component!==1)return u();if((g===0||g>0&&I.iceTransport!==c.transceivers[0].iceTransport)&&!un(I.iceTransport,S))return p(ye("OperationError","Can not add ICE candidate"));var E=s.candidate.trim();E.indexOf("a=")===0&&(E=E.substr(2)),f=w.getMediaSections(c._remoteDescription.sdp),f[g]+="a="+(S.type?E:"end-of-candidates")+`\r
`,c._remoteDescription.sdp=w.getDescription(c._remoteDescription.sdp)+f.join("")}else return p(ye("OperationError","Can not add ICE candidate"))}else return p(ye("InvalidStateError","Can not add ICE candidate without a remote description"));u()})},o.prototype.getStats=function(s){if(s&&s instanceof e.MediaStreamTrack){var c=null;if(this.transceivers.forEach(function(u){u.rtpSender&&u.rtpSender.track===s?c=u.rtpSender:u.rtpReceiver&&u.rtpReceiver.track===s&&(c=u.rtpReceiver)}),!c)throw ye("InvalidAccessError","Invalid selector.");return c.getStats()}var f=[];return this.transceivers.forEach(function(u){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(p){u[p]&&f.push(u[p].getStats())})}),Promise.all(f).then(function(u){var p=new Map;return u.forEach(function(m){m.forEach(function(g){p.set(g.id,g)})}),p})};var a=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];a.forEach(function(s){var c=e[s];if(c&&c.prototype&&c.prototype.getStats){var f=c.prototype.getStats;c.prototype.getStats=function(){return f.apply(this).then(function(u){var p=new Map;return Object.keys(u).forEach(function(m){u[m].type=Ef(u[m]),p.set(m,u[m])}),p})}}});var l=["createOffer","createAnswer"];return l.forEach(function(s){var c=o.prototype[s];o.prototype[s]=function(){var f=arguments;return typeof f[0]=="function"||typeof f[1]=="function"?c.apply(this,[arguments[2]]).then(function(u){typeof f[0]=="function"&&f[0].apply(null,[u])},function(u){typeof f[1]=="function"&&f[1].apply(null,[u])}):c.apply(this,arguments)}}),l=["setLocalDescription","setRemoteDescription","addIceCandidate"],l.forEach(function(s){var c=o.prototype[s];o.prototype[s]=function(){var f=arguments;return typeof f[1]=="function"||typeof f[2]=="function"?c.apply(this,arguments).then(function(){typeof f[1]=="function"&&f[1].apply(null)},function(u){typeof f[2]=="function"&&f[2].apply(null,[u])}):c.apply(this,arguments)}}),["getStats"].forEach(function(s){var c=o.prototype[s];o.prototype[s]=function(){var f=arguments;return typeof f[1]=="function"?c.apply(this,arguments).then(function(){typeof f[1]=="function"&&f[1].apply(null)}):c.apply(this,arguments)}}),o};const xf=ui(Rf);function Zs(e){const t=e&&e.navigator,r=function(i){return{name:{PermissionDeniedError:"NotAllowedError"}[i.name]||i.name,message:i.message,constraint:i.constraint,toString(){return this.name}}},n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(i){return n(i).catch(o=>Promise.reject(r(o)))}}function ea(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function An(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(i){return i}),e.RTCSessionDescription||(e.RTCSessionDescription=function(i){return i}),t.version<15025)){const n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(i){n.set.call(this,i);const o=new Event("enabled");o.enabled=i,this.dispatchEvent(o)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new e.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const r=xf(e,t.version);e.RTCPeerConnection=function(i){return i&&i.iceServers&&(i.iceServers=Tf(i.iceServers,t.version),pi("ICE servers after filtering:",i.iceServers)),new r(i)},e.RTCPeerConnection.prototype=r.prototype}function ta(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}const uo=Object.freeze(Object.defineProperty({__proto__:null,shimGetDisplayMedia:ea,shimGetUserMedia:Zs,shimPeerConnection:An,shimReplaceTrack:ta},Symbol.toStringTag,{value:"Module"}));function ra(e,t){const r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(i,o,a){rn("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(i).then(o,a)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const i=function(a,l,s){l in a&&!(s in a)&&(a[s]=a[l],delete a[l])},o=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a.audio,"autoGainControl","mozAutoGainControl"),i(a.audio,"noiseSuppression","mozNoiseSuppression")),o(a)},n&&n.prototype.getSettings){const a=n.prototype.getSettings;n.prototype.getSettings=function(){const l=a.apply(this,arguments);return i(l,"mozAutoGainControl","autoGainControl"),i(l,"mozNoiseSuppression","noiseSuppression"),l}}if(n&&n.prototype.applyConstraints){const a=n.prototype.applyConstraints;n.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),i(l,"autoGainControl","mozAutoGainControl"),i(l,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[l])}}}}function kf(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return n.video===!0?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function na(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function jn(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=e.RTCPeerConnection.prototype[i],a={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=a[i]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,a,l]=arguments;return n.apply(this,[o||null]).then(s=>{if(t.version<53&&!a)try{s.forEach(c=>{c.type=r[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;s.forEach((f,u)=>{s.set(u,Object.assign({},f,{type:r[f.type]||f.type}))})}return s}).then(a,l)}}function ia(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(o=>o._pc=this),i});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function oa(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const n=t.apply(this,[]);return n.forEach(i=>i._pc=this),n}),Ht(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function sa(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){rn("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&r.getTracks().includes(n.track)&&this.removeTrack(n)})})}function aa(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function ca(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const n=arguments[1],i=n&&"sendEncodings"in n;i&&n.sendEncodings.forEach(a=>{if("rid"in a&&!/^[a-z0-9]{0,16}$/i.test(a.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in a&&!(parseFloat(a.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in a&&!(parseFloat(a.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(i){const{sender:a}=o,l=a.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=n.sendEncodings,a.sendEncodings=n.sendEncodings,this.setParametersPromises.push(a.setParameters(l).then(()=>{delete a.sendEncodings}).catch(()=>{delete a.sendEncodings})))}return o})}function la(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const n=t.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function fa(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function ua(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const po=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:ca,shimCreateAnswer:ua,shimCreateOffer:fa,shimGetDisplayMedia:kf,shimGetParameters:la,shimGetUserMedia:ra,shimOnTrack:na,shimPeerConnection:jn,shimRTCDataChannel:aa,shimReceiverGetStats:oa,shimRemoveStream:sa,shimSenderGetStats:ia},Symbol.toStringTag,{value:"Module"}));function pa(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(i=>t.call(this,i,n)),n.getVideoTracks().forEach(i=>t.call(this,i,n))},e.RTCPeerConnection.prototype.addTrack=function(n,...i){return i&&i.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(r);if(n===-1)return;this._localStreams.splice(n,1);const i=r.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function da(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(o)>=0)return;n._remoteStreams.push(o);const a=new Event("addstream");a.stream=o,n.dispatchEvent(a)})}),t.apply(n,arguments)}}}function ha(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(c,f){const u=arguments.length>=2?arguments[2]:arguments[0],p=r.apply(this,[u]);return f?(p.then(c,f),Promise.resolve()):p},t.createAnswer=function(c,f){const u=arguments.length>=2?arguments[2]:arguments[0],p=n.apply(this,[u]);return f?(p.then(c,f),Promise.resolve()):p};let l=function(s,c,f){const u=i.apply(this,[s]);return f?(u.then(c,f),Promise.resolve()):u};t.setLocalDescription=l,l=function(s,c,f){const u=o.apply(this,[s]);return f?(u.then(c,f),Promise.resolve()):u},t.setRemoteDescription=l,l=function(s,c,f){const u=a.apply(this,[s]);return f?(u.then(c,f),Promise.resolve()):u},t.addIceCandidate=l}function ma(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=i=>n(ga(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(n,i,o){t.mediaDevices.getUserMedia(n).then(i,o)}).bind(t))}function ga(e){return e&&e.video!==void 0?Object.assign({},e,{video:Us(e.video)}):e}function va(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(n,i){if(n&&n.iceServers){const o=[];for(let a=0;a<n.iceServers.length;a++){let l=n.iceServers[a];!l.hasOwnProperty("urls")&&l.hasOwnProperty("url")?(rn("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,o.push(l)):o.push(n.iceServers[a])}n.iceServers=o}return new t(n,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function ya(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function _a(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const i=this.getTransceivers().find(a=>a.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio"),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const o=this.getTransceivers().find(a=>a.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):n.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video")}return t.apply(this,arguments)}}function ba(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const ho=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:ba,shimCallbacksAPI:ha,shimConstraints:ga,shimCreateOfferLegacy:_a,shimGetUserMedia:ma,shimLocalStreamsAPI:pa,shimRTCIceServerUrls:va,shimRemoteStreamsAPI:da,shimTrackEventTransceiver:ya},Symbol.toStringTag,{value:"Module"}));function Ar(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substr(2)),n.candidate&&n.candidate.length){const i=new t(n),o=Ir.parseCandidate(n.candidate),a=Object.assign(i,o);return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new t(n)},e.RTCIceCandidate.prototype=t.prototype,Ht(e,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new e.RTCIceCandidate(r.candidate),writable:"false"}),r))}function Zt(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const r=function(l){if(!l||!l.sdp)return!1;const s=Ir.splitSections(l.sdp);return s.shift(),s.some(c=>{const f=Ir.parseMLine(c);return f&&f.kind==="application"&&f.protocol.indexOf("SCTP")!==-1})},n=function(l){const s=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(s===null||s.length<2)return-1;const c=parseInt(s[1],10);return c!==c?-1:c},i=function(l){let s=65536;return t.browser==="firefox"&&(t.version<57?l===-1?s=16384:s=2147483637:t.version<60?s=t.version===57?65535:65536:s=2147483637),s},o=function(l,s){let c=65536;t.browser==="firefox"&&t.version===57&&(c=65535);const f=Ir.matchPrefix(l.sdp,"a=max-message-size:");return f.length>0?c=parseInt(f[0].substr(19),10):t.browser==="firefox"&&s!==-1&&(c=2147483637),c},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:s}=this.getConfiguration();s==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const s=n(arguments[0]),c=i(s),f=o(arguments[0],s);let u;c===0&&f===0?u=Number.POSITIVE_INFINITY:c===0||f===0?u=Math.max(c,f):u=Math.min(c,f);const p={};Object.defineProperty(p,"maxMessageSize",{get(){return u}}),this._sctp=p}return a.apply(this,arguments)}}function er(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(n,i){const o=n.send;n.send=function(){const l=arguments[0],s=l.length||l.size||l.byteLength;if(n.readyState==="open"&&i.sctp&&s>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(n,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=r.apply(this,arguments);return t(i,this),i},Ht(e,"datachannel",n=>(t(n.channel,n.target),n))}function Bn(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const n=t[r];t[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const a=new Event("connectionstatechange",i);o.dispatchEvent(a)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function Fn(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(a=>a.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return r.apply(this,arguments)}}function jr(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const r=e.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const Of=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Fn,shimAddIceCandidateNullOrEmpty:jr,shimConnectionState:Bn,shimMaxMessageSize:Zt,shimRTCIceCandidate:Ar,shimSendThrowTypeError:er},Symbol.toStringTag,{value:"Module"}));function Mf({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const r=pi,n=Cf(e),i={browserDetails:n,commonShim:Of,extractVersion:Xt,disableLog:_f,disableWarnings:bf};switch(n.browser){case"chrome":if(!co||!In||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),i;if(n.version===null)return r("Chrome shim can not determine version, not shimming."),i;r("adapter.js shimming chrome."),i.browserShim=co,jr(e,n),zs(e,n),Gs(e),In(e,n),Hs(e),qs(e,n),Ks(e),Vs(e),Js(e),Ys(e,n),Ar(e),Bn(e),Zt(e,n),er(e),Fn(e,n);break;case"firefox":if(!po||!jn||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),i;r("adapter.js shimming firefox."),i.browserShim=po,jr(e,n),ra(e,n),jn(e,n),na(e),sa(e),ia(e),oa(e),aa(e),ca(e),la(e),fa(e),ua(e),Ar(e),Bn(e),Zt(e,n),er(e);break;case"edge":if(!uo||!An||!t.shimEdge)return r("MS edge shim is not included in this adapter release."),i;r("adapter.js shimming edge."),i.browserShim=uo,Zs(e),ea(e),An(e,n),ta(e),Zt(e,n),er(e);break;case"safari":if(!ho||!t.shimSafari)return r("Safari shim is not included in this adapter release."),i;r("adapter.js shimming safari."),i.browserShim=ho,jr(e,n),va(e),_a(e),ha(e),pa(e),da(e),ya(e),ma(e),ba(e),Ar(e),Zt(e,n),er(e),Fn(e,n);break;default:r("Unsupported browser!");break}return i}const mo=Mf({window:typeof window>"u"?void 0:window});function et(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var pn=mo.default||mo,Jt=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},e.prototype.isBrowserSupported=function(){var t=this.getBrowser(),r=this.getVersion(),n=this.supportedBrowsers.includes(t);return n?t==="chrome"?r>=this.minChromeVersion:t==="firefox"?r>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&r>=this.minSafariVersion:!1:!1},e.prototype.getBrowser=function(){return pn.browserDetails.browser},e.prototype.getVersion=function(){return pn.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var t=this.getBrowser(),r=pn.browserDetails.version||0;if(t==="chrome"&&r<this.minChromeVersion)return!1;if(t==="firefox"&&r>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var n,i=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),i=!0}catch{}finally{n&&n.close()}return i},e.prototype.toString=function(){return`Supports:
    browser:`.concat(this.getBrowser(),`
    version:`).concat(this.getVersion(),`
    isIOS:`).concat(this.isIOS,`
    isWebRTCSupported:`).concat(this.isWebRTCSupported(),`
    isBrowserSupported:`).concat(this.isBrowserSupported(),`
    isUnifiedPlanSupported:`).concat(this.isUnifiedPlanSupported())},e}()),go={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},Df=function(){function e(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=go,this.browser=Jt.getBrowser(),this.browserVersion=Jt.getVersion(),this.supports=function(){var t={browser:Jt.isBrowserSupported(),webRTC:Jt.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;var r;try{r=new RTCPeerConnection(go),t.audioVideo=!0;var n=void 0;try{n=r.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!n.ordered;try{n.binaryType="blob",t.binaryBlob=!Jt.isIOS}catch{}}catch{}finally{n&&n.close()}}catch{}finally{r&&r.close()}return t}(),this.pack=io.pack,this.unpack=io.unpack,this._dataCount=1}return e.prototype.noop=function(){},e.prototype.validateId=function(t){return!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t)},e.prototype.chunk=function(t){for(var r=[],n=t.size,i=Math.ceil(n/Q.chunkedMTU),o=0,a=0;a<n;){var l=Math.min(n,a+Q.chunkedMTU),s=t.slice(a,l),c={__peerData:this._dataCount,n:o,data:s,total:i};r.push(c),a=l,o++}return this._dataCount++,r},e.prototype.blobToArrayBuffer=function(t,r){var n=new FileReader;return n.onload=function(i){i.target&&r(i.target.result)},n.readAsArrayBuffer(t),n},e.prototype.binaryStringToArrayBuffer=function(t){for(var r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n)&255;return r.buffer},e.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},e.prototype.isSecure=function(){return location.protocol==="https:"},e}(),Q=new Df,Ca={};et(Ca,"Peer",()=>$n,e=>$n=e);var gr={},If=Object.prototype.hasOwnProperty,Te="~";function hr(){}Object.create&&(hr.prototype=Object.create(null),new hr().__proto__||(Te=!1));function Af(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function Sa(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new Af(r,n||e,i),a=Te?Te+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function Br(e,t){--e._eventsCount===0?e._events=new hr:delete e._events[t]}function be(){this._events=new hr,this._eventsCount=0}be.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)If.call(r,n)&&t.push(Te?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};be.prototype.listeners=function(t){var r=Te?Te+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a};be.prototype.listenerCount=function(t){var r=Te?Te+t:t,n=this._events[r];return n?n.fn?1:n.length:0};be.prototype.emit=function(t,r,n,i,o,a){var l=Te?Te+t:t;if(!this._events[l])return!1;var s=this._events[l],c=arguments.length,f,u;if(s.fn){switch(s.once&&this.removeListener(t,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,r),!0;case 3:return s.fn.call(s.context,r,n),!0;case 4:return s.fn.call(s.context,r,n,i),!0;case 5:return s.fn.call(s.context,r,n,i,o),!0;case 6:return s.fn.call(s.context,r,n,i,o,a),!0}for(u=1,f=new Array(c-1);u<c;u++)f[u-1]=arguments[u];s.fn.apply(s.context,f)}else{var p=s.length,m;for(u=0;u<p;u++)switch(s[u].once&&this.removeListener(t,s[u].fn,void 0,!0),c){case 1:s[u].fn.call(s[u].context);break;case 2:s[u].fn.call(s[u].context,r);break;case 3:s[u].fn.call(s[u].context,r,n);break;case 4:s[u].fn.call(s[u].context,r,n,i);break;default:if(!f)for(m=1,f=new Array(c-1);m<c;m++)f[m-1]=arguments[m];s[u].fn.apply(s[u].context,f)}}return!0};be.prototype.on=function(t,r,n){return Sa(this,t,r,n,!1)};be.prototype.once=function(t,r,n){return Sa(this,t,r,n,!0)};be.prototype.removeListener=function(t,r,n,i){var o=Te?Te+t:t;if(!this._events[o])return this;if(!r)return Br(this,o),this;var a=this._events[o];if(a.fn)a.fn===r&&(!i||a.once)&&(!n||a.context===n)&&Br(this,o);else{for(var l=0,s=[],c=a.length;l<c;l++)(a[l].fn!==r||i&&!a[l].once||n&&a[l].context!==n)&&s.push(a[l]);s.length?this._events[o]=s.length===1?s[0]:s:Br(this,o)}return this};be.prototype.removeAllListeners=function(t){var r;return t?(r=Te?Te+t:t,this._events[r]&&Br(this,r)):(this._events=new hr,this._eventsCount=0),this};be.prototype.off=be.prototype.removeListener;be.prototype.addListener=be.prototype.on;be.prefixed=Te;be.EventEmitter=be;gr=be;var A={};et(A,"LogLevel",()=>ke,e=>ke=e);et(A,"default",()=>vo,e=>vo=e);var Ct=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},St=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},jf="PeerJS: ",ke;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(ke||(ke={}));var Bf=function(){function e(){this._logLevel=ke.Disabled}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._logLevel>=ke.All&&this._print.apply(this,St([ke.All],Ct(t),!1))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._logLevel>=ke.Warnings&&this._print.apply(this,St([ke.Warnings],Ct(t),!1))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._logLevel>=ke.Errors&&this._print.apply(this,St([ke.Errors],Ct(t),!1))},e.prototype.setLogFunction=function(t){this._print=t},e.prototype._print=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=St([jf],Ct(r),!1);for(var o in i)i[o]instanceof Error&&(i[o]="("+i[o].name+") "+i[o].message);t>=ke.All?console.log.apply(console,St([],Ct(i),!1)):t>=ke.Warnings?console.warn.apply(console,St(["WARNING"],Ct(i),!1)):t>=ke.Errors&&console.error.apply(console,St(["ERROR"],Ct(i),!1))},e}(),vo=new Bf,Ta={};et(Ta,"Socket",()=>yo,e=>yo=e);var ze;(function(e){e.Data="data",e.Media="media"})(ze||(ze={}));var ae;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(ae||(ae={}));var ot;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"})(ot||(ot={}));var st;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(st||(st={}));var de;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(de||(de={}));var di={};di=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var Ff=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lf=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},wf=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},$f=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yo=function(e){Ff(t,e);function t(r,n,i,o,a,l){l===void 0&&(l=5e3);var s=e.call(this)||this;s.pingInterval=l,s._disconnected=!0,s._messagesQueue=[];var c=r?"wss://":"ws://";return s._baseUrl=c+n+":"+i+o+"peerjs?key="+a,s}return t.prototype.start=function(r,n){var i=this;this._id=r;var o="".concat(this._baseUrl,"&id=").concat(r,"&token=").concat(n);this._socket||!this._disconnected||(this._socket=new WebSocket(o+"&version="+di.version),this._disconnected=!1,this._socket.onmessage=function(a){var l;try{l=JSON.parse(a.data),A.default.log("Server message received:",l)}catch{A.default.log("Invalid server message",a.data);return}i.emit(st.Message,l)},this._socket.onclose=function(a){i._disconnected||(A.default.log("Socket closed.",a),i._cleanup(),i._disconnected=!0,i.emit(st.Disconnected))},this._socket.onopen=function(){i._disconnected||(i._sendQueuedMessages(),A.default.log("Socket open"),i._scheduleHeartbeat())})},t.prototype._scheduleHeartbeat=function(){var r=this;this._wsPingTimer=setTimeout(function(){r._sendHeartbeat()},this.pingInterval)},t.prototype._sendHeartbeat=function(){if(!this._wsOpen()){A.default.log("Cannot send heartbeat, because socket closed");return}var r=JSON.stringify({type:de.Heartbeat});this._socket.send(r),this._scheduleHeartbeat()},t.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},t.prototype._sendQueuedMessages=function(){var r,n,i=wf([],Lf(this._messagesQueue),!1);this._messagesQueue=[];try{for(var o=$f(i),a=o.next();!a.done;a=o.next()){var l=a.value;this.send(l)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},t.prototype.send=function(r){if(!this._disconnected){if(!this._id){this._messagesQueue.push(r);return}if(!r.type){this.emit(st.Error,"Invalid message");return}if(this._wsOpen()){var n=JSON.stringify(r);this._socket.send(n)}}},t.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},t.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},t}(gr.EventEmitter),Ln={};et(Ln,"MediaConnection",()=>Co,e=>Co=e);var hi={};et(hi,"Negotiator",()=>_o,e=>_o=e);var Ur=function(){return Ur=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ur.apply(this,arguments)},Er=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{c(n.next(f))}catch(u){a(u)}}function s(f){try{c(n.throw(f))}catch(u){a(u)}}function c(f){f.done?o(f.value):i(f.value).then(l,s)}c((n=n.apply(e,t||[])).next())})},Pr=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(f){return s([c,f])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},_o=function(){function e(t){this.connection=t}return e.prototype.startConnection=function(t){var r=this._startPeerConnection();if(this.connection.peerConnection=r,this.connection.type===ze.Media&&t._stream&&this._addTracksToConnection(t._stream,r),t.originator){if(this.connection.type===ze.Data){var n=this.connection,i={ordered:!!t.reliable},o=r.createDataChannel(n.label,i);n.initialize(o)}this._makeOffer()}else this.handleSDP("OFFER",t.sdp)},e.prototype._startPeerConnection=function(){A.default.log("Creating RTCPeerConnection.");var t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t},e.prototype._setupListeners=function(t){var r=this,n=this.connection.peer,i=this.connection.connectionId,o=this.connection.type,a=this.connection.provider;A.default.log("Listening for ICE candidates."),t.onicecandidate=function(l){!l.candidate||!l.candidate.candidate||(A.default.log("Received ICE candidates for ".concat(n,":"),l.candidate),a.socket.send({type:de.Candidate,payload:{candidate:l.candidate,type:o,connectionId:i},dst:n}))},t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case"failed":A.default.log("iceConnectionState is failed, closing connections to "+n),r.connection.emit("error",new Error("Negotiation of connection to "+n+" failed.")),r.connection.close();break;case"closed":A.default.log("iceConnectionState is closed, closing connections to "+n),r.connection.emit("error",new Error("Connection to "+n+" closed.")),r.connection.close();break;case"disconnected":A.default.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=Q.noop;break}r.connection.emit("iceStateChanged",t.iceConnectionState)},A.default.log("Listening for data channel"),t.ondatachannel=function(l){A.default.log("Received data channel");var s=l.channel,c=a.getConnection(n,i);c.initialize(s)},A.default.log("Listening for remote stream"),t.ontrack=function(l){A.default.log("Received remote stream");var s=l.streams[0],c=a.getConnection(n,i);if(c.type===ze.Media){var f=c;r._addStreamToMediaConnection(s,f)}}},e.prototype.cleanup=function(){A.default.log("Cleaning up PeerConnection to "+this.connection.peer);var t=this.connection.peerConnection;if(t){this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=function(){};var r=t.signalingState!=="closed",n=!1;if(this.connection.type===ze.Data){var i=this.connection,o=i.dataChannel;o&&(n=!!o.readyState&&o.readyState!=="closed")}(r||n)&&t.close()}},e.prototype._makeOffer=function(){return Er(this,void 0,Promise,function(){var t,r,n,i,o,a,l;return Pr(this,function(s){switch(s.label){case 0:t=this.connection.peerConnection,r=this.connection.provider,s.label=1;case 1:return s.trys.push([1,7,,8]),[4,t.createOffer(this.connection.options.constraints)];case 2:n=s.sent(),A.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,t.setLocalDescription(n)];case 4:return s.sent(),A.default.log("Set localDescription:",n,"for:".concat(this.connection.peer)),i={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:Q.browser},this.connection.type===ze.Data&&(o=this.connection,i=Ur(Ur({},i),{label:o.label,reliable:o.reliable,serialization:o.serialization})),r.socket.send({type:de.Offer,payload:i,dst:this.connection.peer}),[3,6];case 5:return a=s.sent(),a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(r.emitError(ae.WebRTC,a),A.default.log("Failed to setLocalDescription, ",a)),[3,6];case 6:return[3,8];case 7:return l=s.sent(),r.emitError(ae.WebRTC,l),A.default.log("Failed to createOffer, ",l),[3,8];case 8:return[2]}})})},e.prototype._makeAnswer=function(){return Er(this,void 0,Promise,function(){var t,r,n,i,o;return Pr(this,function(a){switch(a.label){case 0:t=this.connection.peerConnection,r=this.connection.provider,a.label=1;case 1:return a.trys.push([1,7,,8]),[4,t.createAnswer()];case 2:n=a.sent(),A.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,t.setLocalDescription(n)];case 4:return a.sent(),A.default.log("Set localDescription:",n,"for:".concat(this.connection.peer)),r.socket.send({type:de.Answer,payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,browser:Q.browser},dst:this.connection.peer}),[3,6];case 5:return i=a.sent(),r.emitError(ae.WebRTC,i),A.default.log("Failed to setLocalDescription, ",i),[3,6];case 6:return[3,8];case 7:return o=a.sent(),r.emitError(ae.WebRTC,o),A.default.log("Failed to create answer, ",o),[3,8];case 8:return[2]}})})},e.prototype.handleSDP=function(t,r){return Er(this,void 0,Promise,function(){var n,i,o,a;return Pr(this,function(l){switch(l.label){case 0:r=new RTCSessionDescription(r),n=this.connection.peerConnection,i=this.connection.provider,A.default.log("Setting remote description",r),o=this,l.label=1;case 1:return l.trys.push([1,5,,6]),[4,n.setRemoteDescription(r)];case 2:return l.sent(),A.default.log("Set remoteDescription:".concat(t," for:").concat(this.connection.peer)),t!=="OFFER"?[3,4]:[4,o._makeAnswer()];case 3:l.sent(),l.label=4;case 4:return[3,6];case 5:return a=l.sent(),i.emitError(ae.WebRTC,a),A.default.log("Failed to setRemoteDescription, ",a),[3,6];case 6:return[2]}})})},e.prototype.handleCandidate=function(t){return Er(this,void 0,Promise,function(){var r,n,i,o,a,l;return Pr(this,function(s){switch(s.label){case 0:A.default.log("handleCandidate:",t),r=t.candidate,n=t.sdpMLineIndex,i=t.sdpMid,o=this.connection.peerConnection,a=this.connection.provider,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,o.addIceCandidate(new RTCIceCandidate({sdpMid:i,sdpMLineIndex:n,candidate:r}))];case 2:return s.sent(),A.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return l=s.sent(),a.emitError(ae.WebRTC,l),A.default.log("Failed to handleCandidate, ",l),[3,4];case 4:return[2]}})})},e.prototype._addTracksToConnection=function(t,r){if(A.default.log("add tracks from stream ".concat(t.id," to peer connection")),!r.addTrack)return A.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(function(n){r.addTrack(n,t)})},e.prototype._addStreamToMediaConnection=function(t,r){A.default.log("add stream ".concat(t.id," to media connection ").concat(r.connectionId)),r.addStream(t)},e}(),mi={};et(mi,"BaseConnection",()=>bo,e=>bo=e);var Nf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bo=function(e){Nf(t,e);function t(r,n,i){var o=e.call(this)||this;return o.peer=r,o.provider=n,o.options=i,o._open=!1,o.metadata=i.metadata,o}return Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),t}(gr.EventEmitter),Uf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zr=function(){return zr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},zr.apply(this,arguments)},zf=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Co=function(e){Uf(t,e);function t(r,n,i){var o=e.call(this,r,n,i)||this;return o._localStream=o.options._stream,o.connectionId=o.options.connectionId||t.ID_PREFIX+Q.randomToken(),o._negotiator=new hi.Negotiator(o),o._localStream&&o._negotiator.startConnection({_stream:o._localStream,originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return ze.Media},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),t.prototype.addStream=function(r){A.default.log("Receiving stream",r),this._remoteStream=r,e.prototype.emit.call(this,"stream",r)},t.prototype.handleMessage=function(r){var n=r.type,i=r.payload;switch(r.type){case de.Answer:this._negotiator.handleSDP(n,i.sdp),this._open=!0;break;case de.Candidate:this._negotiator.handleCandidate(i.candidate);break;default:A.default.warn("Unrecognized message type:".concat(n," from peer:").concat(this.peer));break}},t.prototype.answer=function(r,n){var i,o;if(n===void 0&&(n={}),this._localStream){A.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=r,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection(zr(zr({},this.options._payload),{_stream:r}));var a=this.provider._getMessages(this.connectionId);try{for(var l=zf(a),s=l.next();!s.done;s=l.next()){var c=s.value;this.handleMessage(c)}}catch(f){i={error:f}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}this._open=!0},t.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.ID_PREFIX="mc_",t}(mi.BaseConnection),wn={};et(wn,"DataConnection",()=>To,e=>To=e);var Ea={};et(Ea,"EncodingQueue",()=>So,e=>So=e);var Gf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),So=function(e){Gf(t,e);function t(){var r=e.call(this)||this;return r.fileReader=new FileReader,r._queue=[],r._processing=!1,r.fileReader.onload=function(n){r._processing=!1,n.target&&r.emit("done",n.target.result),r.doNextTask()},r.fileReader.onerror=function(n){A.default.error("EncodingQueue error:",n),r._processing=!1,r.destroy(),r.emit("error",n)},r}return Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t.prototype.enque=function(r){this.queue.push(r),!this.processing&&this.doNextTask()},t.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},t.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},t}(gr.EventEmitter),Hf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kf=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},To=function(e){Hf(t,e);function t(r,n,i){var o=e.call(this,r,n,i)||this;return o.stringify=JSON.stringify,o.parse=JSON.parse,o._buffer=[],o._bufferSize=0,o._buffering=!1,o._chunkedData={},o._encodingQueue=new Ea.EncodingQueue,o.connectionId=o.options.connectionId||t.ID_PREFIX+Q.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||ot.Binary,o.reliable=!!o.options.reliable,o._encodingQueue.on("done",function(a){o._bufferedSend(a)}),o._encodingQueue.on("error",function(){A.default.error("DC#".concat(o.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),o.close()}),o._negotiator=new hi.Negotiator(o),o._negotiator.startConnection(o.options._payload||{originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return ze.Data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),t.prototype.initialize=function(r){this._dc=r,this._configureDataChannel()},t.prototype._configureDataChannel=function(){var r=this;(!Q.supports.binaryBlob||Q.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){A.default.log("DC#".concat(r.connectionId," dc connection success")),r._open=!0,r.emit("open")},this.dataChannel.onmessage=function(n){A.default.log("DC#".concat(r.connectionId," dc onmessage:"),n.data),r._handleDataMessage(n)},this.dataChannel.onclose=function(){A.default.log("DC#".concat(r.connectionId," dc closed for:"),r.peer),r.close()}},t.prototype._handleDataMessage=function(r){var n=this,i=r.data,o=i.constructor,a=this.serialization===ot.Binary||this.serialization===ot.BinaryUTF8,l=i;if(a){if(o===Blob){Q.blobToArrayBuffer(i,function(c){var f=Q.unpack(c);n.emit("data",f)});return}else if(o===ArrayBuffer)l=Q.unpack(i);else if(o===String){var s=Q.binaryStringToArrayBuffer(i);l=Q.unpack(s)}}else this.serialization===ot.JSON&&(l=this.parse(i));if(l.__peerData){this._handleChunk(l);return}e.prototype.emit.call(this,"data",l)},t.prototype._handleChunk=function(r){var n=r.__peerData,i=this._chunkedData[n]||{data:[],count:0,total:r.total};if(i.data[r.n]=r.data,i.count++,this._chunkedData[n]=i,i.total===i.count){delete this._chunkedData[n];var o=new Blob(i.data);this._handleDataMessage({data:o})}},t.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.prototype.send=function(r,n){if(!this.open){e.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization===ot.JSON)this._bufferedSend(this.stringify(r));else if(this.serialization===ot.Binary||this.serialization===ot.BinaryUTF8){var i=Q.pack(r);if(!n&&i.size>Q.chunkedMTU){this._sendChunks(i);return}Q.supports.binaryBlob?this._bufferedSend(i):this._encodingQueue.enque(i)}else this._bufferedSend(r)},t.prototype._bufferedSend=function(r){(this._buffering||!this._trySend(r))&&(this._buffer.push(r),this._bufferSize=this._buffer.length)},t.prototype._trySend=function(r){var n=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>t.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){n._buffering=!1,n._tryBuffer()},50),!1;try{this.dataChannel.send(r)}catch(i){return A.default.error("DC#:".concat(this.connectionId," Error when sending:"),i),this._buffering=!0,this.close(),!1}return!0},t.prototype._tryBuffer=function(){if(this.open&&this._buffer.length!==0){var r=this._buffer[0];this._trySend(r)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},t.prototype._sendChunks=function(r){var n,i,o=Q.chunk(r);A.default.log("DC#".concat(this.connectionId," Try to send ").concat(o.length," chunks..."));try{for(var a=Kf(o),l=a.next();!l.done;l=a.next()){var s=l.value;this.send(s,!0)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.handleMessage=function(r){var n=r.payload;switch(r.type){case de.Answer:this._negotiator.handleSDP(r.type,n.sdp);break;case de.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:A.default.warn("Unrecognized message type:",r.type,"from peer:",this.peer);break}},t.ID_PREFIX="dc_",t.MAX_BUFFERED_AMOUNT=8388608,t}(mi.BaseConnection),Pa={};et(Pa,"API",()=>Ro,e=>Ro=e);var Eo=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{c(n.next(f))}catch(u){a(u)}}function s(f){try{c(n.throw(f))}catch(u){a(u)}}function c(f){f.done?o(f.value):i(f.value).then(l,s)}c((n=n.apply(e,t||[])).next())})},Po=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(f){return s([c,f])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ro=function(){function e(t){this._options=t}return e.prototype._buildRequest=function(t){var r=this._options.secure?"https":"http",n=this._options,i=n.host,o=n.port,a=n.path,l=n.key,s=new URL("".concat(r,"://").concat(i,":").concat(o).concat(a).concat(l,"/").concat(t));return s.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),s.searchParams.set("version",di.version),fetch(s.href,{referrerPolicy:this._options.referrerPolicy})},e.prototype.retrieveId=function(){return Eo(this,void 0,Promise,function(){var t,r,n;return Po(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(t=i.sent(),t.status!==200)throw new Error("Error. Status:".concat(t.status));return[2,t.text()];case 2:throw r=i.sent(),A.default.error("Error retrieving ID",r),n="",this._options.path==="/"&&this._options.host!==Q.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n);case 3:return[2]}})})},e.prototype.listAllPeers=function(){return Eo(this,void 0,Promise,function(){var t,r,n;return Po(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(t=i.sent(),t.status!==200)throw t.status===401?(r="",this._options.host===Q.CLOUD_HOST?r="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":r="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+r)):new Error("Error. Status:".concat(t.status));return[2,t.json()];case 2:throw n=i.sent(),A.default.error("Error retrieving list peers",n),new Error("Could not get list peers from the server."+n);case 3:return[2]}})})},e}(),Vf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ir=function(){return ir=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ir.apply(this,arguments)},Wt=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Jf=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},$n=function(e){Vf(t,e);function t(r,n){var i=e.call(this)||this;i._id=null,i._lastServerId=null,i._destroyed=!1,i._disconnected=!1,i._open=!1,i._connections=new Map,i._lostMessages=new Map;var o;return r&&r.constructor==Object?n=r:r&&(o=r.toString()),n=ir({debug:0,host:Q.CLOUD_HOST,port:Q.CLOUD_PORT,path:"/",key:t.DEFAULT_KEY,token:Q.randomToken(),config:Q.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},n),i._options=n,i._options.host==="/"&&(i._options.host=window.location.hostname),i._options.path&&(i._options.path[0]!=="/"&&(i._options.path="/"+i._options.path),i._options.path[i._options.path.length-1]!=="/"&&(i._options.path+="/")),i._options.secure===void 0&&i._options.host!==Q.CLOUD_HOST?i._options.secure=Q.isSecure():i._options.host==Q.CLOUD_HOST&&(i._options.secure=!0),i._options.logFunction&&A.default.setLogFunction(i._options.logFunction),A.default.logLevel=i._options.debug||0,i._api=new Pa.API(n),i._socket=i._createServerConnection(),!Q.supports.audioVideo&&!Q.supports.data?(i._delayedAbort(ae.BrowserIncompatible,"The current browser does not support WebRTC"),i):o&&!Q.validateId(o)?(i._delayedAbort(ae.InvalidID,'ID "'.concat(o,'" is invalid')),i):(o?i._initialize(o):i._api.retrieveId().then(function(a){return i._initialize(a)}).catch(function(a){return i._abort(ae.ServerError,a)}),i)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connections",{get:function(){var r,n,i=Object.create(null);try{for(var o=Wt(this._connections),a=o.next();!a.done;a=o.next()){var l=Jf(a.value,2),s=l[0],c=l[1];i[s]=c}}catch(f){r={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),t.prototype._createServerConnection=function(){var r=this,n=new Ta.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return n.on(st.Message,function(i){r._handleMessage(i)}),n.on(st.Error,function(i){r._abort(ae.SocketError,i)}),n.on(st.Disconnected,function(){r.disconnected||(r.emitError(ae.Network,"Lost connection to server."),r.disconnect())}),n.on(st.Close,function(){r.disconnected||r._abort(ae.SocketClosed,"Underlying socket is already closed.")}),n},t.prototype._initialize=function(r){this._id=r,this.socket.start(r,this._options.token)},t.prototype._handleMessage=function(r){var n,i,o=r.type,a=r.payload,l=r.src;switch(o){case de.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case de.Error:this._abort(ae.ServerError,a.msg);break;case de.IdTaken:this._abort(ae.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case de.InvalidKey:this._abort(ae.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case de.Leave:A.default.log("Received leave message from ".concat(l)),this._cleanupPeer(l),this._connections.delete(l);break;case de.Expire:this.emitError(ae.PeerUnavailable,"Could not connect to peer ".concat(l));break;case de.Offer:var g=a.connectionId,_=this.getConnection(l,g);if(_&&(_.close(),A.default.warn("Offer received for existing Connection ID:".concat(g))),a.type===ze.Media){var s=new Ln.MediaConnection(l,this,{connectionId:g,_payload:a,metadata:a.metadata});_=s,this._addConnection(l,_),this.emit("call",s)}else if(a.type===ze.Data){var c=new wn.DataConnection(l,this,{connectionId:g,_payload:a,metadata:a.metadata,label:a.label,serialization:a.serialization,reliable:a.reliable});_=c,this._addConnection(l,_),this.emit("connection",c)}else{A.default.warn("Received malformed connection type:".concat(a.type));return}var f=this._getMessages(g);try{for(var u=Wt(f),p=u.next();!p.done;p=u.next()){var m=p.value;_.handleMessage(m)}}catch(I){n={error:I}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}break;default:if(!a){A.default.warn("You received a malformed message from ".concat(l," of type ").concat(o));return}var g=a.connectionId,_=this.getConnection(l,g);_&&_.peerConnection?_.handleMessage(r):g?this._storeMessage(g,r):A.default.warn("You received an unrecognized message:",r);break}},t.prototype._storeMessage=function(r,n){this._lostMessages.has(r)||this._lostMessages.set(r,[]),this._lostMessages.get(r).push(n)},t.prototype._getMessages=function(r){var n=this._lostMessages.get(r);return n?(this._lostMessages.delete(r),n):[]},t.prototype.connect=function(r,n){if(n===void 0&&(n={}),this.disconnected){A.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ae.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}var i=new wn.DataConnection(r,this,n);return this._addConnection(r,i),i},t.prototype.call=function(r,n,i){if(i===void 0&&(i={}),this.disconnected){A.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ae.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){A.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}var o=new Ln.MediaConnection(r,this,ir(ir({},i),{_stream:n}));return this._addConnection(r,o),o},t.prototype._addConnection=function(r,n){A.default.log("add connection ".concat(n.type,":").concat(n.connectionId," to peerId:").concat(r)),this._connections.has(r)||this._connections.set(r,[]),this._connections.get(r).push(n)},t.prototype._removeConnection=function(r){var n=this._connections.get(r.peer);if(n){var i=n.indexOf(r);i!==-1&&n.splice(i,1)}this._lostMessages.delete(r.connectionId)},t.prototype.getConnection=function(r,n){var i,o,a=this._connections.get(r);if(!a)return null;try{for(var l=Wt(a),s=l.next();!s.done;s=l.next()){var c=s.value;if(c.connectionId===n)return c}}catch(f){i={error:f}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return null},t.prototype._delayedAbort=function(r,n){var i=this;setTimeout(function(){i._abort(r,n)},0)},t.prototype._abort=function(r,n){A.default.error("Aborting!"),this.emitError(r,n),this._lastServerId?this.disconnect():this.destroy()},t.prototype.emitError=function(r,n){A.default.error("Error:",n);var i;typeof n=="string"?i=new Error(n):i=n,i.type=r,this.emit("error",i)},t.prototype.destroy=function(){this.destroyed||(A.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},t.prototype._cleanup=function(){var r,n;try{for(var i=Wt(this._connections.keys()),o=i.next();!o.done;o=i.next()){var a=o.value;this._cleanupPeer(a),this._connections.delete(a)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}this.socket.removeAllListeners()},t.prototype._cleanupPeer=function(r){var n,i,o=this._connections.get(r);if(o)try{for(var a=Wt(o),l=a.next();!l.done;l=a.next()){var s=l.value;s.close()}}catch(c){n={error:c}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.disconnect=function(){if(!this.disconnected){var r=this.id;A.default.log("Disconnect peer with ID:".concat(r)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=r,this._id=null,this.emit("disconnected",r)}},t.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)A.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)A.default.error("In a hurry? We're still trying to make the initial connection!");else throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"))}},t.prototype.listAllPeers=function(r){var n=this;r===void 0&&(r=function(i){}),this._api.listAllPeers().then(function(i){return r(i)}).catch(function(i){return n._abort(ae.ServerError,i)})},t.DEFAULT_KEY="peerjs",t}(gr.EventEmitter);Ca.Peer;const Wf={class:"home",style:{"text-align":"center"}},qf=xe("h1",null,"Peer Video",-1),Yf=["srcObject"],Qf=["srcObject"],Xf=si({__name:"App",setup(e){const t=It(void 0),r=It(void 0);let n=It(""),i=It("");const o=new $n;bs(()=>{o.on("open",s=>{n.value=s}),o.on("error",s=>{console.log(s)}),o.on("close",()=>{console.log("close")}),o.on("disconnected",s=>{console.log(s)});let l=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;o.on("call",s=>{l({video:!0,audio:!0},c=>{s.answer(c),s.on("stream",f=>{console.log(f),console.log(t.value),t.value=f})},c=>{console.log("Failed to get local stream",c)}),l({video:!0,audio:!1},c=>{r.value=c})})});function a(){let l=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;l({video:!0,audio:!0},s=>{o.call(i.value,s).on("stream",f=>{t.value=f})},s=>{console.error("Failed to get local stream",s)}),l({video:!0,audio:!1},s=>{r.value=s})}return(l,s)=>{const c=nl("RouterView");return Ds(),Is(Ye,null,[xe("div",Wf,[qf,xe("div",null,[On(" my id: "),Ii(xe("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=f=>fe(n)?n.value=f:n=f)},null,512),[[eo,gt(n)]])]),xe("div",null,[On(" friend id: "),Ii(xe("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=f=>fe(i)?i.value=f:i=f)},null,512),[[eo,gt(i)]])]),xe("div",null,[xe("button",{onClick:s[2]||(s[2]=sf(f=>a(),["prevent"]))},"Call")]),xe("div",null,[xe("video",{style:{border:"2px solid #000"},width:"300",controls:"",srcObject:t.value,autoplay:"",loop:"",playsInline:""},null,8,Yf)]),xe("div",null,[xe("video",{style:{border:"2px solid #000"},width:"300",controls:"",srcObject:r.value,autoplay:"",loop:"",muted:"",playsInline:""},null,8,Qf)])]),Be(c)],64)}}});/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Dt=typeof window<"u";function Zf(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Z=Object.assign;function dn(e,t){const r={};for(const n in t){const i=t[n];r[n]=Ve(i)?i.map(e):e(i)}return r}const or=()=>{},Ve=Array.isArray,eu=/\/$/,tu=e=>e.replace(eu,"");function hn(e,t,r="/"){let n,i={},o="",a="";const l=t.indexOf("#");let s=t.indexOf("?");return l<s&&l>=0&&(s=-1),s>-1&&(n=t.slice(0,s),o=t.slice(s+1,l>-1?l:t.length),i=e(o)),l>-1&&(n=n||t.slice(0,l),a=t.slice(l,t.length)),n=ou(n??t,r),{fullPath:n+(o&&"?")+o+a,path:n,query:i,hash:a}}function ru(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function xo(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function nu(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&$t(t.matched[n],r.matched[i])&&Ra(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function $t(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ra(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!iu(e[r],t[r]))return!1;return!0}function iu(e,t){return Ve(e)?ko(e,t):Ve(t)?ko(t,e):e===t}function ko(e,t){return Ve(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function ou(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let o=r.length-1,a,l;for(a=0;a<n.length;a++)if(l=n[a],l!==".")if(l==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+n.slice(a-(a===n.length?1:0)).join("/")}var mr;(function(e){e.pop="pop",e.push="push"})(mr||(mr={}));var sr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(sr||(sr={}));function su(e){if(!e)if(Dt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),tu(e)}const au=/^[^#]+#/;function cu(e,t){return e.replace(au,"#")+t}function lu(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const nn=()=>({left:window.pageXOffset,top:window.pageYOffset});function fu(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=lu(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Oo(e,t){return(history.state?history.state.position-t:-1)+e}const Nn=new Map;function uu(e,t){Nn.set(e,t)}function pu(e){const t=Nn.get(e);return Nn.delete(e),t}let du=()=>location.protocol+"//"+location.host;function xa(e,t){const{pathname:r,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let l=i.includes(e.slice(o))?e.slice(o).length:1,s=i.slice(l);return s[0]!=="/"&&(s="/"+s),xo(s,"")}return xo(r,e)+n+i}function hu(e,t,r,n){let i=[],o=[],a=null;const l=({state:p})=>{const m=xa(e,location),g=r.value,_=t.value;let I=0;if(p){if(r.value=m,t.value=p,a&&a===g){a=null;return}I=_?p.position-_.position:0}else n(m);i.forEach(S=>{S(r.value,g,{delta:I,type:mr.pop,direction:I?I>0?sr.forward:sr.back:sr.unknown})})};function s(){a=r.value}function c(p){i.push(p);const m=()=>{const g=i.indexOf(p);g>-1&&i.splice(g,1)};return o.push(m),m}function f(){const{history:p}=window;p.state&&p.replaceState(Z({},p.state,{scroll:nn()}),"")}function u(){for(const p of o)p();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:s,listen:c,destroy:u}}function Mo(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?nn():null}}function mu(e){const{history:t,location:r}=window,n={value:xa(e,r)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(s,c,f){const u=e.indexOf("#"),p=u>-1?(r.host&&document.querySelector("base")?e:e.slice(u))+s:du()+e+s;try{t[f?"replaceState":"pushState"](c,"",p),i.value=c}catch(m){console.error(m),r[f?"replace":"assign"](p)}}function a(s,c){const f=Z({},t.state,Mo(i.value.back,s,i.value.forward,!0),c,{position:i.value.position});o(s,f,!0),n.value=s}function l(s,c){const f=Z({},i.value,t.state,{forward:s,scroll:nn()});o(f.current,f,!0);const u=Z({},Mo(n.value,s,null),{position:f.position+1},c);o(s,u,!1),n.value=s}return{location:n,state:i,push:l,replace:a}}function gu(e){e=su(e);const t=mu(e),r=hu(e,t.state,t.location,t.replace);function n(o,a=!0){a||r.pauseListeners(),history.go(o)}const i=Z({location:"",base:e,go:n,createHref:cu.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function vu(e){return typeof e=="string"||e&&typeof e=="object"}function ka(e){return typeof e=="string"||typeof e=="symbol"}const pt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Oa=Symbol("");var Do;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Do||(Do={}));function Nt(e,t){return Z(new Error,{type:e,[Oa]:!0},t)}function nt(e,t){return e instanceof Error&&Oa in e&&(t==null||!!(e.type&t))}const Io="[^/]+?",yu={sensitive:!1,strict:!1,start:!0,end:!0},_u=/[.+*?^${}()[\]/\\]/g;function bu(e,t){const r=Z({},yu,t),n=[];let i=r.start?"^":"";const o=[];for(const c of e){const f=c.length?[]:[90];r.strict&&!c.length&&(i+="/");for(let u=0;u<c.length;u++){const p=c[u];let m=40+(r.sensitive?.25:0);if(p.type===0)u||(i+="/"),i+=p.value.replace(_u,"\\$&"),m+=40;else if(p.type===1){const{value:g,repeatable:_,optional:I,regexp:S}=p;o.push({name:g,repeatable:_,optional:I});const E=S||Io;if(E!==Io){m+=10;try{new RegExp(`(${E})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${g}" (${E}): `+O.message)}}let N=_?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;u||(N=I&&c.length<2?`(?:/${N})`:"/"+N),I&&(N+="?"),i+=N,m+=20,I&&(m+=-8),_&&(m+=-20),E===".*"&&(m+=-50)}f.push(m)}n.push(f)}if(r.strict&&r.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const a=new RegExp(i,r.sensitive?"":"i");function l(c){const f=c.match(a),u={};if(!f)return null;for(let p=1;p<f.length;p++){const m=f[p]||"",g=o[p-1];u[g.name]=m&&g.repeatable?m.split("/"):m}return u}function s(c){let f="",u=!1;for(const p of e){(!u||!f.endsWith("/"))&&(f+="/"),u=!1;for(const m of p)if(m.type===0)f+=m.value;else if(m.type===1){const{value:g,repeatable:_,optional:I}=m,S=g in c?c[g]:"";if(Ve(S)&&!_)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const E=Ve(S)?S.join("/"):S;if(!E)if(I)p.length<2&&(f.endsWith("/")?f=f.slice(0,-1):u=!0);else throw new Error(`Missing required param "${g}"`);f+=E}}return f||"/"}return{re:a,score:n,keys:o,parse:l,stringify:s}}function Cu(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Su(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const o=Cu(n[r],i[r]);if(o)return o;r++}if(Math.abs(i.length-n.length)===1){if(Ao(n))return 1;if(Ao(i))return-1}return i.length-n.length}function Ao(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Tu={type:0,value:""},Eu=/[a-zA-Z0-9_]/;function Pu(e){if(!e)return[[]];if(e==="/")return[[Tu]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${r})/"${c}": ${m}`)}let r=0,n=r;const i=[];let o;function a(){o&&i.push(o),o=[]}let l=0,s,c="",f="";function u(){c&&(r===0?o.push({type:0,value:c}):r===1||r===2||r===3?(o.length>1&&(s==="*"||s==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:f,repeatable:s==="*"||s==="+",optional:s==="*"||s==="?"})):t("Invalid state to consume buffer"),c="")}function p(){c+=s}for(;l<e.length;){if(s=e[l++],s==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:s==="/"?(c&&u(),a()):s===":"?(u(),r=1):p();break;case 4:p(),r=n;break;case 1:s==="("?r=2:Eu.test(s)?p():(u(),r=0,s!=="*"&&s!=="?"&&s!=="+"&&l--);break;case 2:s===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+s:r=3:f+=s;break;case 3:u(),r=0,s!=="*"&&s!=="?"&&s!=="+"&&l--,f="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${c}"`),u(),a(),i}function Ru(e,t,r){const n=bu(Pu(e.path),r),i=Z(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function xu(e,t){const r=[],n=new Map;t=Fo({strict:!1,end:!0,sensitive:!1},t);function i(f){return n.get(f)}function o(f,u,p){const m=!p,g=ku(f);g.aliasOf=p&&p.record;const _=Fo(t,f),I=[g];if("alias"in f){const N=typeof f.alias=="string"?[f.alias]:f.alias;for(const O of N)I.push(Z({},g,{components:p?p.record.components:g.components,path:O,aliasOf:p?p.record:g}))}let S,E;for(const N of I){const{path:O}=N;if(u&&O[0]!=="/"){const K=u.record.path,X=K[K.length-1]==="/"?"":"/";N.path=u.record.path+(O&&X+O)}if(S=Ru(N,u,_),p?p.alias.push(S):(E=E||S,E!==S&&E.alias.push(S),m&&f.name&&!Bo(S)&&a(f.name)),g.children){const K=g.children;for(let X=0;X<K.length;X++)o(K[X],S,p&&p.children[X])}p=p||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&s(S)}return E?()=>{a(E)}:or}function a(f){if(ka(f)){const u=n.get(f);u&&(n.delete(f),r.splice(r.indexOf(u),1),u.children.forEach(a),u.alias.forEach(a))}else{const u=r.indexOf(f);u>-1&&(r.splice(u,1),f.record.name&&n.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return r}function s(f){let u=0;for(;u<r.length&&Su(f,r[u])>=0&&(f.record.path!==r[u].record.path||!Ma(f,r[u]));)u++;r.splice(u,0,f),f.record.name&&!Bo(f)&&n.set(f.record.name,f)}function c(f,u){let p,m={},g,_;if("name"in f&&f.name){if(p=n.get(f.name),!p)throw Nt(1,{location:f});_=p.record.name,m=Z(jo(u.params,p.keys.filter(E=>!E.optional).map(E=>E.name)),f.params&&jo(f.params,p.keys.map(E=>E.name))),g=p.stringify(m)}else if("path"in f)g=f.path,p=r.find(E=>E.re.test(g)),p&&(m=p.parse(g),_=p.record.name);else{if(p=u.name?n.get(u.name):r.find(E=>E.re.test(u.path)),!p)throw Nt(1,{location:f,currentLocation:u});_=p.record.name,m=Z({},u.params,f.params),g=p.stringify(m)}const I=[];let S=p;for(;S;)I.unshift(S.record),S=S.parent;return{name:_,path:g,params:m,matched:I,meta:Mu(I)}}return e.forEach(f=>o(f)),{addRoute:o,resolve:c,removeRoute:a,getRoutes:l,getRecordMatcher:i}}function jo(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function ku(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ou(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Ou(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function Bo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Mu(e){return e.reduce((t,r)=>Z(t,r.meta),{})}function Fo(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function Ma(e,t){return t.children.some(r=>r===e||Ma(e,r))}const Da=/#/g,Du=/&/g,Iu=/\//g,Au=/=/g,ju=/\?/g,Ia=/\+/g,Bu=/%5B/g,Fu=/%5D/g,Aa=/%5E/g,Lu=/%60/g,ja=/%7B/g,wu=/%7C/g,Ba=/%7D/g,$u=/%20/g;function gi(e){return encodeURI(""+e).replace(wu,"|").replace(Bu,"[").replace(Fu,"]")}function Nu(e){return gi(e).replace(ja,"{").replace(Ba,"}").replace(Aa,"^")}function Un(e){return gi(e).replace(Ia,"%2B").replace($u,"+").replace(Da,"%23").replace(Du,"%26").replace(Lu,"`").replace(ja,"{").replace(Ba,"}").replace(Aa,"^")}function Uu(e){return Un(e).replace(Au,"%3D")}function zu(e){return gi(e).replace(Da,"%23").replace(ju,"%3F")}function Gu(e){return e==null?"":zu(e).replace(Iu,"%2F")}function Gr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Hu(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(Ia," "),a=o.indexOf("="),l=Gr(a<0?o:o.slice(0,a)),s=a<0?null:Gr(o.slice(a+1));if(l in t){let c=t[l];Ve(c)||(c=t[l]=[c]),c.push(s)}else t[l]=s}return t}function Lo(e){let t="";for(let r in e){const n=e[r];if(r=Uu(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(Ve(n)?n.map(o=>o&&Un(o)):[n&&Un(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+r,o!=null&&(t+="="+o))})}return t}function Ku(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=Ve(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const Vu=Symbol(""),wo=Symbol(""),vi=Symbol(""),Fa=Symbol(""),zn=Symbol("");function qt(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function ht(e,t,r,n,i){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const s=u=>{u===!1?l(Nt(4,{from:r,to:t})):u instanceof Error?l(u):vu(u)?l(Nt(2,{from:t,to:u})):(o&&n.enterCallbacks[i]===o&&typeof u=="function"&&o.push(u),a())},c=e.call(n&&n.instances[i],t,r,s);let f=Promise.resolve(c);e.length<3&&(f=f.then(s)),f.catch(u=>l(u))})}function mn(e,t,r,n){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Ju(l)){const c=(l.__vccOpts||l)[t];c&&i.push(ht(c,r,n,o,a))}else{let s=l();i.push(()=>s.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const f=Zf(c)?c.default:c;o.components[a]=f;const p=(f.__vccOpts||f)[t];return p&&ht(p,r,n,o,a)()}))}}return i}function Ju(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function $o(e){const t=at(vi),r=at(Fa),n=Ue(()=>t.resolve(gt(e.to))),i=Ue(()=>{const{matched:s}=n.value,{length:c}=s,f=s[c-1],u=r.matched;if(!f||!u.length)return-1;const p=u.findIndex($t.bind(null,f));if(p>-1)return p;const m=No(s[c-2]);return c>1&&No(f)===m&&u[u.length-1].path!==m?u.findIndex($t.bind(null,s[c-2])):p}),o=Ue(()=>i.value>-1&&Qu(r.params,n.value.params)),a=Ue(()=>i.value>-1&&i.value===r.matched.length-1&&Ra(r.params,n.value.params));function l(s={}){return Yu(s)?t[gt(e.replace)?"replace":"push"](gt(e.to)).catch(or):Promise.resolve()}return{route:n,href:Ue(()=>n.value.href),isActive:o,isExactActive:a,navigate:l}}const Wu=si({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$o,setup(e,{slots:t}){const r=qr($o(e)),{options:n}=at(vi),i=Ue(()=>({[Uo(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Uo(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&t.default(r);return e.custom?o:Fs("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},o)}}}),qu=Wu;function Yu(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Qu(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Ve(i)||i.length!==n.length||n.some((o,a)=>o!==i[a]))return!1}return!0}function No(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Uo=(e,t,r)=>e??t??r,Xu=si({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=at(zn),i=Ue(()=>e.route||n.value),o=at(wo,0),a=Ue(()=>{let c=gt(o);const{matched:f}=i.value;let u;for(;(u=f[c])&&!u.components;)c++;return c}),l=Ue(()=>i.value.matched[a.value]);Mr(wo,Ue(()=>a.value+1)),Mr(Vu,l),Mr(zn,i);const s=It();return kr(()=>[s.value,l.value,e.name],([c,f,u],[p,m,g])=>{f&&(f.instances[u]=c,m&&m!==f&&c&&c===p&&(f.leaveGuards.size||(f.leaveGuards=m.leaveGuards),f.updateGuards.size||(f.updateGuards=m.updateGuards))),c&&f&&(!m||!$t(f,m)||!p)&&(f.enterCallbacks[u]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=i.value,f=e.name,u=l.value,p=u&&u.components[f];if(!p)return zo(r.default,{Component:p,route:c});const m=u.props[f],g=m?m===!0?c.params:typeof m=="function"?m(c):m:null,I=Fs(p,Z({},g,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(u.instances[f]=null)},ref:s}));return zo(r.default,{Component:I,route:c})||I}}});function zo(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const Zu=Xu;function ep(e){const t=xu(e.routes,e),r=e.parseQuery||Hu,n=e.stringifyQuery||Lo,i=e.history,o=qt(),a=qt(),l=qt(),s=xc(pt);let c=pt;Dt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=dn.bind(null,b=>""+b),u=dn.bind(null,Gu),p=dn.bind(null,Gr);function m(b,D){let R,B;return ka(b)?(R=t.getRecordMatcher(b),B=D):B=b,t.addRoute(B,R)}function g(b){const D=t.getRecordMatcher(b);D&&t.removeRoute(D)}function _(){return t.getRoutes().map(b=>b.record)}function I(b){return!!t.getRecordMatcher(b)}function S(b,D){if(D=Z({},D||s.value),typeof b=="string"){const v=hn(r,b,D.path),y=t.resolve({path:v.path},D),C=i.createHref(v.fullPath);return Z(v,y,{params:p(y.params),hash:Gr(v.hash),redirectedFrom:void 0,href:C})}let R;if("path"in b)R=Z({},b,{path:hn(r,b.path,D.path).path});else{const v=Z({},b.params);for(const y in v)v[y]==null&&delete v[y];R=Z({},b,{params:u(v)}),D.params=u(D.params)}const B=t.resolve(R,D),q=b.hash||"";B.params=f(p(B.params));const d=ru(n,Z({},b,{hash:Nu(q),path:B.path})),h=i.createHref(d);return Z({fullPath:d,hash:q,query:n===Lo?Ku(b.query):b.query||{}},B,{redirectedFrom:void 0,href:h})}function E(b){return typeof b=="string"?hn(r,b,s.value.path):Z({},b)}function N(b,D){if(c!==b)return Nt(8,{from:D,to:b})}function O(b){return ne(b)}function K(b){return O(Z(E(b),{replace:!0}))}function X(b){const D=b.matched[b.matched.length-1];if(D&&D.redirect){const{redirect:R}=D;let B=typeof R=="function"?R(b):R;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=E(B):{path:B},B.params={}),Z({query:b.query,hash:b.hash,params:"path"in B?{}:b.params},B)}}function ne(b,D){const R=c=S(b),B=s.value,q=b.state,d=b.force,h=b.replace===!0,v=X(R);if(v)return ne(Z(E(v),{state:typeof v=="object"?Z({},q,v.state):q,force:d,replace:h}),D||R);const y=R;y.redirectedFrom=D;let C;return!d&&nu(n,B,R)&&(C=Nt(16,{to:y,from:B}),Pe(B,B,!0,!1)),(C?Promise.resolve(C):$(y,B)).catch(T=>nt(T)?nt(T,2)?T:Le(T):G(T,y,B)).then(T=>{if(T){if(nt(T,2))return ne(Z({replace:h},E(T.to),{state:typeof T.to=="object"?Z({},q,T.to.state):q,force:d}),D||y)}else T=Me(y,B,!0,h,q);return Fe(y,B,T),T})}function te(b,D){const R=N(b,D);return R?Promise.reject(R):Promise.resolve()}function tt(b){const D=De.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(b):b()}function $(b,D){let R;const[B,q,d]=tp(b,D);R=mn(B.reverse(),"beforeRouteLeave",b,D);for(const v of B)v.leaveGuards.forEach(y=>{R.push(ht(y,b,D))});const h=te.bind(null,b,D);return R.push(h),oe(R).then(()=>{R=[];for(const v of o.list())R.push(ht(v,b,D));return R.push(h),oe(R)}).then(()=>{R=mn(q,"beforeRouteUpdate",b,D);for(const v of q)v.updateGuards.forEach(y=>{R.push(ht(y,b,D))});return R.push(h),oe(R)}).then(()=>{R=[];for(const v of d)if(v.beforeEnter)if(Ve(v.beforeEnter))for(const y of v.beforeEnter)R.push(ht(y,b,D));else R.push(ht(v.beforeEnter,b,D));return R.push(h),oe(R)}).then(()=>(b.matched.forEach(v=>v.enterCallbacks={}),R=mn(d,"beforeRouteEnter",b,D),R.push(h),oe(R))).then(()=>{R=[];for(const v of a.list())R.push(ht(v,b,D));return R.push(h),oe(R)}).catch(v=>nt(v,8)?v:Promise.reject(v))}function Fe(b,D,R){l.list().forEach(B=>tt(()=>B(b,D,R)))}function Me(b,D,R,B,q){const d=N(b,D);if(d)return d;const h=D===pt,v=Dt?history.state:{};R&&(B||h?i.replace(b.fullPath,Z({scroll:h&&v&&v.scroll},q)):i.push(b.fullPath,q)),s.value=b,Pe(b,D,R,h),Le()}let Ee;function Ce(){Ee||(Ee=i.listen((b,D,R)=>{if(!ft.listening)return;const B=S(b),q=X(B);if(q){ne(Z(q,{replace:!0}),B).catch(or);return}c=B;const d=s.value;Dt&&uu(Oo(d.fullPath,R.delta),nn()),$(B,d).catch(h=>nt(h,12)?h:nt(h,2)?(ne(h.to,B).then(v=>{nt(v,20)&&!R.delta&&R.type===mr.pop&&i.go(-1,!1)}).catch(or),Promise.reject()):(R.delta&&i.go(-R.delta,!1),G(h,B,d))).then(h=>{h=h||Me(B,d,!1),h&&(R.delta&&!nt(h,8)?i.go(-R.delta,!1):R.type===mr.pop&&nt(h,20)&&i.go(-1,!1)),Fe(B,d,h)}).catch(or)}))}let Je=qt(),se=qt(),J;function G(b,D,R){Le(b);const B=se.list();return B.length?B.forEach(q=>q(b,D,R)):console.error(b),Promise.reject(b)}function Ae(){return J&&s.value!==pt?Promise.resolve():new Promise((b,D)=>{Je.add([b,D])})}function Le(b){return J||(J=!b,Ce(),Je.list().forEach(([D,R])=>b?R(b):D()),Je.reset()),b}function Pe(b,D,R,B){const{scrollBehavior:q}=e;if(!Dt||!q)return Promise.resolve();const d=!R&&pu(Oo(b.fullPath,0))||(B||!R)&&history.state&&history.state.scroll||null;return fs().then(()=>q(b,D,d)).then(h=>h&&fu(h)).catch(h=>G(h,b,D))}const pe=b=>i.go(b);let rt;const De=new Set,ft={currentRoute:s,listening:!0,addRoute:m,removeRoute:g,hasRoute:I,getRoutes:_,resolve:S,options:e,push:O,replace:K,go:pe,back:()=>pe(-1),forward:()=>pe(1),beforeEach:o.add,beforeResolve:a.add,afterEach:l.add,onError:se.add,isReady:Ae,install(b){const D=this;b.component("RouterLink",qu),b.component("RouterView",Zu),b.config.globalProperties.$router=D,Object.defineProperty(b.config.globalProperties,"$route",{enumerable:!0,get:()=>gt(s)}),Dt&&!rt&&s.value===pt&&(rt=!0,O(i.location).catch(q=>{}));const R={};for(const q in pt)Object.defineProperty(R,q,{get:()=>s.value[q],enumerable:!0});b.provide(vi,D),b.provide(Fa,rs(R)),b.provide(zn,s);const B=b.unmount;De.add(b),b.unmount=function(){De.delete(b),De.size<1&&(c=pt,Ee&&Ee(),Ee=null,s.value=pt,rt=!1,J=!1),B()}}};function oe(b){return b.reduce((D,R)=>D.then(()=>tt(R)),Promise.resolve())}return ft}function tp(e,t){const r=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const l=t.matched[a];l&&(e.matched.find(c=>$t(c,l))?n.push(l):r.push(l));const s=e.matched[a];s&&(t.matched.find(c=>$t(c,s))||i.push(s))}return[r,n,i]}const rp=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},np={};function ip(e,t){return Ds(),Is("main")}const op=rp(np,[["render",ip]]),sp=ep({history:gu("/p2p-vite/"),routes:[{path:"/",name:"home",component:op}]}),yi=lf(Xf);yi.use(df());yi.use(sp);yi.mount("#app");
